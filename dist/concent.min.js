!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t(e.concent={},e.React,e.ReactDOM)}(this,function(e,I,r){"use strict";I=I&&I.hasOwnProperty("default")?I.default:I,r=r&&r.hasOwnProperty("default")?r.default:r;var t,n,o,R={$$default:[]},ye="$$global",H="$$default",B="$$cc",G="$$concent_void_module_624313307",a="$$CONCENT_ROUTER",A="$$CcClass",_e="$$CcHook",U="$$CcFrag",f="$$CcOb",M="$$CcCust",h="$$Cc",Y="$$Dispatcher",c="__cc_dispatcher_container_designed_by_zzk_qq_is_624313307__",ve=Symbol("__for_sync_param_ccsync__"),O=10,N=11,D=13,i=15,T="dispatch",me="setState",he="setModuleState",Ce="forceUpdate",w="invoke",K="sync",W="module",Ke="ref",ge="computed",Se="watch",Ee={CC_MODULE_NAME_DUPLICATE:1002,CC_MODULE_NOT_FOUND:1012,CC_DISPATCH_STRING_INVALID:1013,CC_DISPATCH_PARAM_INVALID:1014,CC_MODULE_NOT_CONNECTED:1015,CC_CLASS_KEY_DUPLICATE:1100,CC_CLASS_INSTANCE_KEY_DUPLICATE:1200,CC_CLASS_INSTANCE_MORE_THAN_ONE:1205,CC_STORED_KEYS_NEED_CCKEY:1207,CC_REDUCER_NOT_A_FUNCTION:1503},u=((t={})[Ee.CC_MODULE_NAME_DUPLICATE]="module name duplicate!",t[Ee.CC_MODULE_NOT_FOUND]="module not found!",t[Ee.CC_DISPATCH_STRING_INVALID]="when type param is string, it must be one of these format: (fnName)„ÄÅ(moduleName)/(fnName)",t[Ee.CC_DISPATCH_PARAM_INVALID]="dispatch param type is invalid, it must be string or object",t[Ee.CC_MODULE_NOT_CONNECTED]="module not been connected by ref",t[Ee.CC_CLASS_INSTANCE_KEY_DUPLICATE]="props.ccKey duplicate",t[Ee.CC_CLASS_INSTANCE_MORE_THAN_ONE]="ccClass is declared as singleton, trying new another one instance is not allowed! ",t[Ee.CC_STORED_KEYS_NEED_CCKEY]="you must explicitly specify a ccKey for ccInstance when set storedKeys!",t[Ee.CC_CLASS_KEY_DUPLICATE]="ccClassKey duplicate!",t[Ee.CC_REDUCER_NOT_A_FUNCTION]="reducer must be a function!",t),s=Object.freeze({MODULE_GLOBAL:ye,MODULE_DEFAULT:H,MODULE_CC:B,MODULE_VOID:G,MODULE_CC_ROUTER:a,CC_CLASS:A,CC_HOOK:_e,CC_FRAGMENT:U,CC_OB:f,CC_CUSTOMIZE:M,CC_PREFIX:h,CC_DISPATCHER:Y,CC_DISPATCHER_BOX:c,CCSYNC_KEY:ve,SIG_FN_START:O,SIG_FN_END:N,SIG_FN_QUIT:12,SIG_FN_ERR:D,SIG_MODULE_CONFIGURED:14,SIG_STATE_CHANGED:i,RENDER_NO_OP:1,RENDER_BY_KEY:2,RENDER_BY_STATE:3,FOR_ONE_INS_FIRSTLY:1,FOR_ALL_INS_OF_A_MOD:2,DISPATCH:T,SET_STATE:me,SET_MODULE_STATE:he,FORCE_UPDATE:Ce,INVOKE:w,SYNC:K,CATE_MODULE:W,CATE_REF:Ke,FN_CU:ge,FN_WATCH:Se,ERR:Ee,ERR_MESSAGE:u}),d=((n={})[ye]={},n[H]={},n[B]={},n),l=((o={})[ye]={},o[H]={},o[B]={},o),p={},y={},k={_computedValueOri:l,_computedValue:d,_computedRaw:y,_computedDep:p,getRootComputedValue:function(){return d},getRootComputedDep:function(){return p},getRootComputedRaw:function(){return y}},_={},v={},C={_watchRaw:v,_watchDep:_,getRootWatchDep:function(){return _},getRootWatchRaw:function(){return v}},m={isStrict:!1,isDebug:!1,objectValueCompare:!1,computedCompare:!0,watchCompare:!0,watchImmediate:!1,bindCtxToMethod:!1},g={},S={};function E(t,n,r){try{t[n][r]=1}catch(e){var o={};o[r]=1,t[n]=o}}function j(e,t){return e+"/"+t}function $(e,t){E(g,e,t)}function b(e,t,n){!function(e,t){try{delete g[e][t]}catch(e){}}(j(e,t),n)}var x=Symbol("cuk"),L="1",$e="2",P="function",we="is not a plain json object!",F="should be an string array or *!",V=console.error;function q(e){return null!=e&&0<pe(e).length}function z(e){return!q(e)}function be(e,t){if(void 0===t&&(t=!1),!e)return!1;var n="object"==typeof e;if(n){var r=Array.isArray(e);return t?r:n&&!r}return!1}function X(e,t){var n="";n="string"==typeof e?e:u[e]||"",t&&(n+=t),n||(n="undefined message for code:"+e);var r=Error(n);return r.code=e,r}function J(e,t,n,r,o,a,c){var i;return(i={})[x]=1,i.needCompute=n,i.fn=r,i.newState=o,i.oldState=a,i.fnCtx=c,i.isLazy=e,i.result=t,i}function Z(e,t){return e+"$"+t}function Q(e){return e?" --verbose-info: "+e:""}function ee(e){return void 0===e&&(e="green"),"color:"+e+";border:1px solid "+e}function te(e){return"%c"+e}var ne=function(e){return"------------ CC "+e+" ------------"};function xe(e){V(ne("WARNING")),e instanceof Error?(V(e.message),V(e.stack)):V(e)}function re(e){console.log(ne("TIP")),console.log("%c"+e,"color:green;border:1px solid green;")}function oe(e){if(V(ne("WARNING")),V(e),m.isStrict)throw e}function ae(e,t,n){void 0===n&&(n={});var r=e[t];return r||(r=e[t]=n),r}function ce(e,t){return ae(e,t,[])}function ie(e,t){e.includes(t)||e.push(t)}function ue(e,t,n){ie(ce(e,t),n)}function se(t,n){Object.keys(n).forEach(function(e){t[e]=n[e]})}function de(e,t,n){var r=e[t];r||(r=e[t]={}),se(r,n)}function fe(e){void 0===e&&(e=52);var t=Math.random();return parseInt(t*e)}function le(n,r,o,a){if(void 0===r&&(r=[]),void 0===a&&(a=!1),Array.isArray(n)){var t=[];r.forEach(function(e){n.includes(e)&&t.push(e)}),n.length=0,t.forEach(function(e){return n.push(e)})}else Object.keys(n).forEach(function(e){if(r.includes(e));else{var t=n[e];a&&t?pe(t).forEach(function(e){return delete t[e]}):o?n[e]=o:delete n[e]}})}function pe(e){return Object.keys(e)}function Ue(e){var t=null;return e&&(e.currentTarget&&e.type?t=e:e.nativeEvent&&e.target&&(e.currentTarget=e.target,t=e)),t}function Oe(t,n,e){function r(e){e?e[t]=n:window[t]=n}window?r(e):setTimeout(function(){r(e)},3e3)}function Ne(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function De(o,a,c){var i={},u=!1;if(a){var s=m.objectValueCompare;pe(a).forEach(function(e){var t=o[e],n=a[e],r=!0;"object"!=typeof n?r=t!==n:s&&(r=t!==n),r&&(c&&(c.prevStateContainer[e]=t,c.incStateVer(e),o[e]=n),i[e]=n,u=!0)})}return u?i:null}function Ie(e,t){var n=[];return e.forEach(function(e){t.includes(e)||n.push(e)}),n}function Ae(e){return void 0===e&&(e={}),"string"==typeof e?{module:e}:Object.assign({module:H},e)}var Me="";function Te(){return Me}function Re(){var t=null;return{commit:function(e){t||(t={}),Object.assign(t,e)},clear:function(){return t=null},getFnCommittedState:function(){return t}}}function We(){var e=!1;return!window||("previewFrame"===window.name||window.__SANDBOX_DATA__||window.BrowserFS)&&(e=!0),e}function ke(e){return{payload:null,renderKey:"",delay:-1,module:e,fnName:""}}function je(e){void 0===e&&(e={});var t="function"==typeof e?e():e;if(!be(t))throw Error("state "+we);return t}function Le(e,t){var n=t.split(".");return function e(t,n,r,o){var a=n[o];return r===o?t[a]:e(t[a],n,r,++o)}(e,n,n.length-1,0)}function Pe(e){return"-"===e?"*":e}function Fe(e){return Array.isArray(e)||"-"===e||"*"===e}function Ve(e,t,n){void 0===n&&(n=!0);var r=t||{},o={fn:e},a=Fe(r)?{depKeys:r}:r;return n&&function(e){if(e&&!Fe(e))throw Error("depKeys must an array , '*' or '-'")}(a.depKeys),Object.assign(o,a)}var qe={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};function ze(e,t,n){var r=t[e];return{retKey:e,fn:r.fn,depKeys:r.depKeys,isLazy:n,sort:r.sort}}var He=function(e,t){return e.sort-t.sort};function Be(e,t,n,r,o,a,c,i){var u=r[o],s=[];if(!u)return{pickedFns:s,setted:[],changed:[]};var d=u.retKey_fn_,f=u.retKey_lazy_,l=u.stateKey_retKeys_,p=u.fnCount;if(e){var y=pe(d),_=pe(c),v=_;return"computed"===n?{pickedFns:y.map(function(e){return ze(e,d,f[e])}).sort(He),setted:_,changed:v}:(y.forEach(function(e){var t=d[e];t.immediate&&s.push({retKey:e,fn:t.fn,depKeys:t.depKeys,sort:t.sort})}),s.sort(He),{pickedFns:s,setted:_,changed:v})}var m=function(n,r){var o=[],a=[];return pe(r).forEach(function(e){var t=r[e];void 0!==t&&(a.push(e),t!==n[e]&&o.push(e))}),{changed:o,setted:a}}(a,c),h=m.setted,C=m.changed;if(0===h.length)return{pickedFns:s,setted:[],changed:[]};var K=h.join(",")+"|"+C.join(",")+"|"+o,g=qe[t][n],S=i?ae(g,i):g,E=S[K];return E?{pickedFns:E.map(function(e){return ze(e,d,f[e])}),setted:h,changed:C}:(function(s,o,d,f,a,l,c){if(0===o.length)return;var e=a["*"];if(e){var i=0<d.length;e.forEach(function(e){var t=f[e],n=t.fn,r=t.compare,o=t.depKeys,a=t.sort,c={retKey:e,fn:n,depKeys:o,isLazy:l[e],sort:a};r?i&&s.push(c):s.push(c)})}s.length<c&&function(){var u={},e=o.length,t=function(e){var i=o[e],t=a[i];return t?(t.forEach(function(e){if(!u[e]){var t=f[e],n=t.fn,r=t.compare,o=t.depKeys,a=t.sort,c=!0;r&&!d.includes(i)&&(c=!1),c&&(u[e]=!0,s.push({retKey:e,fn:n,depKeys:o,isLazy:l[e],sort:a}))}}),s.length===c?"break":void 0):"continue"};e:for(var n=0;n<e;n++){var r=t(n);switch(r){case"continue":continue;case"break":break e}}}();s.sort(He)}(s,h,C,d,l,f,p),S[K]=s.map(function(e){return e.retKey}),{pickedFns:s,setted:h,changed:C})}function Ge(e,t,n){var r=t[n];return void 0!==r&&(e[n]=r,!0)}function Ye(t,n,e,r){void 0===n&&(n=[]),void 0===e&&(e=!1),void 0===r&&(r=!1);var o={},a=[];if(!be(t))return{partialState:e?null:o,isStateEmpty:!0,ignoredStateKeys:a};var c=!0,i=pe(t);return i.length<n.length?i.forEach(function(e){n.includes(e)?Ge(o,t,e)&&(c=!1):r&&a.push(e)}):(n.forEach(function(e){Ge(o,t,e)&&(c=!1)}),r&&(a=Ie(i,n))),c&&e&&(o=null),{partialState:o,isStateEmpty:c,ignoredStateKeys:a}}function Xe(e,n){return new Proxy(e,{get:function(e,t){return n.includes(t)||n.push(t),e[t]},set:function(){return!0}})}function Je(e,t,n,r){var o=e.ctx;if(!0===o.__$$inBM||o.__$$renderStatus===L){var a=o.ccUniqueKey;if(r){var c=o.module;if(!R[c].includes(n))return;var i=j(c,n);if(!0===o.__$$inBM)return void(o.__$$staticWaKeys[i]=1);if("-"!==o.watchedKeys)return;var u=o.__$$curWaKeys,s=o.__$$compareWaKeys,d=o.__$$nextCompareWaKeys;$(i,a),s[n]=u[n]=1,d[n]||(d[n]=2,o.__$$nextCompareWaKeyCount++)}else{var f=j(t,n);if(!0===o.__$$inBM)return void(o.__$$staticWaKeys[f]=1);if("-"!==o.connect[t])return;var l=o.__$$curConnWaKeys,p=o.__$$compareConnWaKeys,y=o.__$$nextCompareConnWaKeys,_=o.__$$nextCompareConnWaKeyCount;$(f,a),p[t][n]=l[t][n]=1;var v=y[t];v[n]||(v[n]=2,_[t]++)}}}var Ze=Object.prototype.hasOwnProperty,Qe=k._computedValueOri,et=k._computedValue,tt=k._computedDep;function nt(e,t,n,r,o){(e.retKey_stateKeys_[r]||[]).forEach(function(e){Je(t,n,e,o)})}function rt(r,o,a,c){void 0===a&&(a=!0),void 0===c&&(c=!1);var i=c?r.ctx.refComputedOri:Qe[o],u=c?r.ctx.refComputedValue:et[o];return i?new Proxy(i,{get:function(e,t){if(Ze.call(i,t))if(c){var n=r.ctx.computedDep;Object.keys(n).forEach(function(e){nt(n[e],r,e,t,a)})}else nt(tt[o],r,o,t,a);return u[t]},set:function(e,t,n){return e[t]=n,!0}}):{}}var ot,at=function(e){return xe(e+" call commit or commitCu as it is lazy")},ct={},it={};function ut(e,t,n){return e==W?ae(ct,t):ae(it,n)}function st(e,t,n,r,o,a,c){if(void 0===c&&(c=!0),0!==a.length){var i,u;if(t===Ke){var s=e.computedDep,d=n===ge?s:e.watchDep;u=ae(s,r),i=ae(d,r)}else{var f=k._computedDep,l=n===ge?f:C._watchDep;u=ae(f,r),i=ae(l,r)}var p=ae(i,"stateKey_retKeys_"),y=ae(i,"retKey_stateKeys_"),_=function(e){var n=ce(y,o);e.forEach(function(e){var t=ce(p,e);Array.isArray(t)&&!t.includes(o)&&t.push(o),n.includes(e)||n.push(e)})};c?_(a):a.forEach(function(e){var t=ae(u,"retKey_stateKeys_");_(t[e]||[])})}}function dt(e,t,n){return t===Ke?e.computedRetKeyFns:(k._computedDep[n]||{}).retKey_fn_||{}}function ft(d,E,$,w,f,e,b,l,x,U,O,N,D){void 0===d&&(d={});for(var I=d.ctx,A=I?I.ccUniqueKey:"",p=0,M=e,T=!0,y=!1,t=function(){var v=1===++p&&U,e=f(M,v),t=e.pickedFns,m=e.setted,h=e.changed;if(!t.length)return"break";var n=Re(),C=n.commit,r=n.getFnCommittedState,o=Re(),K=o.commit,g=o.getFnCommittedState,S=o.clear;if(t.forEach(function(e){var n=e.retKey,t=e.fn,r=e.isLazy,o=N+" "+O+" retKey["+n+"] can't",a={retKey:n,callInfo:x,isFirstCall:U,commit:C,commitCu:K,setted:m,changed:h,cuVal:D,stateModule:E,refModule:$,oldState:w,committedState:M,refCtx:I},c=v&&"-"===e.depKeys,i=[],u=[];if(c&&(a.cuVal=function(n,r,o,e,t,a){var c,i;return i=W===r?(c=Qe[e],et[e]):(c=t.refComputedOri,t.refComputedValue),new Proxy(c,{get:function(e,t){return Ze.call(c,t)?a.push(t):xe(r+" "+o+" retKey["+n+"] get cuVal invalid retKey["+t+"]"),i[t]},set:function(){return!0}})}(n,N,O,E,I,i)),O===ge)if(r&&(a.commit=function(){return at(o)},a.commitCu=a.commit),c){var s=Xe(b,u),d=t(s,s,a);D[n]=J(!1,d),st(I,N,ge,E,n,u),st(I,N,ge,E,n,i,!1),function(e,t,n,r,o,a){var c=ut(e,o,a),i=dt(n,o,a),u=ce(c,e);t.forEach(function(e){i[e].isStatic?u.push(e):ce(c,e).forEach(function(e){return ie(u,e)})})}(n,i,I,0,N,E)}else if(r)D[n]=J(r,null,!0,t,b,w,a);else{var f=t(b,w,a);D[n]=J(!1,f)}else{var l=b,p=w;c&&(p=l=Xe(b,u)),!1===t(l,p,a)&&(T=!1),c&&(st(I,N,Se,E,n,u),st(I,N,Se,E,n,i,!1))}c&&N===Ke&&u.forEach(function(e){return I.__$$staticWaKeys[j(E,e)]=1});var y=g();if(y){var _=dt(I,N,E);pe(y).forEach(function(e){var t=_[e];t?t.isStatic?function(e,t,n,r){return ce(ut(t,n,r),e)}(e,N,E,A).includes(e)?xe("commitCu:"+o+" change ["+e+"], ["+n+"] referred ["+e+"]"):D[e]=J(!1,y[e]):xe("commitCu:"+o+" change ["+e+"], it must have zero dep keys"):xe("commitCu:"+o+" commit ["+e+"], it is not defined")}),S()}}),M=r()){var a=Ye(M,"ref"===N?I.privStateKeys:R[E],!0),c=a.partialState,i=a.ignoredStateKeys;if(i.length){var u="they are not "+(N===Ke?"private":"module")+", fn is "+N+" "+O;xe("these state keys["+i.join(",")+"] are invalid, "+u)}if(c&&((M=c)&&(Object.assign(b,M),Object.assign(l,M),y=!0),O===Se)){var s=function(e,t){return t===Ke?e.computedDep:k._computedDep}(I,N);ft(d,E,$,w,function(e,t){return Be(t,N,ge,s,E,w,e,A)},c,b,l,x,!1,ge,N,D)}}2<p&&(xe("fnCtx.commit may goes endless loop, please check your code"),M=null)};M;){if("break"===t())break}return{shouldCurrentRefUpdate:T,hasDelta:y}}for(var lt=k._computedValue,pt=pe,yt=De,_t={},vt=function(){var e=_t[Y];return e||(e=_t[Y]=Ut.permanentDispatcher),e},mt=function(n,e,t){var r=void 0===t?{}:t,o=r.ref,a=void 0===o?null:o,c=r.callInfo,i=void 0===c?{}:c,u=r.noSave,s=void 0!==u&&u,d=Ct(n),f=lt[n],l=k.getRootComputedDep(),p=C.getRootWatchDep(),y=a||vt(),_=y.module,v=Object.assign({},d,e),m=Object.assign({},e),h=m;return ft(y,n,_,d,function(e,t){return Be(t,W,"computed",l,n,d,e)},h,v,m,i,!1,"computed",W,f),ft(y,n,_,d,function(e,t){return Be(t,W,"watch",p,n,d,e)},h,v,m,i,!1,"watch",W,f),s||ht(n,m),m},ht=function(t,e,n){void 0===n&&(n=!1);var r=e;n&&(r=Ye(e,R[t],!0).partialState);var o=Ct(t),a=Kt(t);return gt(t),yt(o,r,{prevStateContainer:a,incStateVer:function(e){return St(t,e)}})},Ct=function(e){return $t[e]},Kt=function(e){return wt[e]},gt=function(t){try{xt[t]++}catch(e){xt[t]=1}},St=function(e,t){bt[e][t]++},Et=function(){var e;return(e={})[B]={},e[G]={},e[ye]={},e[H]={},e},$t=Et(),wt=Et(),bt={},xt={},Ut={getDispatcher:vt,isHotReloadMode:function(){return!!Ut.isHot||window&&(window.webpackHotUpdate||We())},runtimeVar:m,isHot:!1,reComputed:!0,isStartup:!1,moduleSingleClass:{},moduleName_stateFn_:{},moduleName_ccClassKeys_:{},moduleName_stateKeys_:R,moduleName_isConfigured_:{},ccClassKey_ccClassContext_:{},globalStateKeys:[],store:{appendState:function(e,t){var n=ce(R,e);pt(t).forEach(function(e){n.includes(e)||n.push(e)}),Ut.store.setState(e,t)},_state:$t,_prevState:wt,_stateVer:bt,getState:function(e){return e?Ct(e):$t},getPrevState:function(e){return e?Kt(e):wt},getStateVer:function(e){return e?bt[e]:bt},getModuleVer:function(e){return e?xt[e]:xt},setState:function(e,t,n){return mt(e,t,n)},setGlobalState:function(e){return mt(ye,e)},saveSharedState:ht,getGlobalState:function(){return $t[ye]}},reducer:{_reducer:(ot={},ot[ye]={},ot[B]={},ot),_caller:{},_fnName_fullFnNames_:{},_module_fnNames_:{}},computed:k,watch:C,refStore:{_state:{},setState:function(e,t){var n=Ut.refStore._state,r=Object.assign({},n[e],t);n[e]=r}},init:{_init:{}},ccUKey_ref_:_t,event_handlers_:{},ccUKey_handlerKeys_:{},handlerKey_handler_:{},waKey_uKeyMap_:g,waKey_staticUKeyMap_:S,refs:_t,info:{packageLoadTime:Date.now(),firstStartupTime:"",latestStartupTime:"",version:"2.4.19",author:"fantasticsoul",emails:["624313307@qq.com","zhongzhengkai@gmail.com"],tag:"yuna"},fragmentNameCount:0,featureStr_classKey_:{},userClassKey_featureStr_:{},errorHandler:null,middlewares:[],plugins:[],pluginNameMap:{},permanentDispatcher:null},Ot=localStorage.length,Nt=Ut.refStore._state,Dt=0;Dt<Ot;Dt++){var It=localStorage.key(Dt);if(It.startsWith("CCSS_"))try{Nt[It.substr(5)]=JSON.parse(localStorage.getItem(It))}catch(e){console.error(e)}}var At=[],Mt=function(e){return e.toLowerCase()===B},Tt=function(e){return/^[\$\#\&a-zA-Z0-9_-]+$/.test(e)},Rt=Q,Wt=X;function kt(e){if(!Tt(e))throw Error("module["+e+"] writing is invalid!");if(Mt(e))throw Error("'$$cc' is a built-in module name for concent")}function jt(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="");var r=n||"module["+e+"]",o=Ut.store._state;if(kt(e),e!==ye)if(t){if(q(o[e]))throw Wt(Ee.CC_MODULE_NAME_DUPLICATE,Rt(r))}else if(!o[e])throw Wt(Ee.CC_MODULE_NOT_FOUND,Rt(r))}function Lt(t,e){var n=Array.isArray(e);if(!n&&"*"!==e)throw Error("storedKeys type err, "+F);n&&e.forEach(function(e){if(t.includes(e))throw Error("the item["+e+"] of storedKeys is not a module state key!")})}var Pt={},Ft=function(e,t,n){if(e.code!==Ee.CC_MODULE_NAME_DUPLICATE||!Ut.isHotReloadMode())throw e;var r=function(e){e||(e="");for(var t=e.split("\n"),n=t.length,o="",a=0;a<n;a++)if(t[a].includes(".checkModuleNameAndState")){!function(){var e=t[a+3].split(":"),n=e.length-1,r=[];e.forEach(function(e,t){t!==n&&r.push(e)}),o=r.join(":")}();break}return o}(e.stack),o=n+"|--link--|"+t,a=Pt[o];if(a){if(r!==a)throw e}else Pt[o]=r},Vt={};function qt(e){Vt[e]={}}function zt(t,e,n){void 0===n&&(n=!0),qt(t);var r=t===G?{}:e;try{!function(e,t,n){if(jt(e,n),!be(t))throw Error("module["+e+"]'s state "+we)}(t,r,n)}catch(e){Ft(e,t,"state")}var o=Ut.store,a=o.getState(),c=o.getStateVer(),i=o.getModuleVer(),u=o.getPrevState();de(a,t,r),de(u,t,r),c[t]=pe(r).reduce(function(e,t){return e[t]=1,e},{}),i[t]=1;var s=Ut.computed;ae(s._computedDep,t,{retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0}),ae(s._computedValue,t),ae(s._computedValueOri,t);var d=Object.keys(r);if(Ut.moduleName_stateKeys_[t]=d,t===ye){var f=Ut.globalStateKeys;d.forEach(function(e){f.includes(e)||f.push(e)})}}function Ht(e,t){void 0===t&&(t=!1);var n=Ut.ccUKey_ref_,r=Ut.moduleName_ccClassKeys_,o=Ut.ccClassKey_ccClassContext_,a=[];if(e){if(!Ut.store._state[e])throw Error("module["+e+"] is not declared in store");var c=r[e];if(c&&0!==c.length){var i=c[0],u=o[i];if(!u)throw Error("no ccClassContext found for ccClassKey "+i+"!");a=u.ccKeys}if(e===H&&(a=a.filter(function(e){return!e.startsWith(U)})),0===a.length){if(!1!==t){throw Error("[[pickOneRef]]: no ref found for module["+e+"]!,if this message doesn't matter, you can ignore it")}a=[Y]}}else a=[Y];var s=a[0],d=n[s];if(s!==Y||d||(d=n[s]=Ut.permanentDispatcher),!d)throw Error("cc found no ref!");return d}var Bt=Z,Gt=xe,Yt=function(){return Promise.resolve()};function Xt(e,t,n,r,o){void 0===n&&(n="");var a=void 0===o?{}:o,c=a.ccClassKey,i=a.ccKey,u=a.throwError,s=a.refModule,d=void 0===s?"":s;if(void 0===e&&void 0===t)throw Error("params type error");var f,l="",p="";try{if(c&&i){var y=Bt(c,i),_=Ut.refs[y];if(!_)return Gt("no ref found for ccUniqueKey:"+y+"!"),Yt();f=_.ctx.dispatch}else{if("string"==typeof e)if(e.includes("/")){var v=e.split("/");l=v[0],p=v[1]}else p=e;var m;if(!(m=l&&"*"!==l?Ht(l):d?Ht(d):Ht()))return Gt("no ref found"),Yt();f=m.ctx.dispatch}if("*"!==l)return f(e,t,n,r);var h=Ut.reducer._fnName_fullFnNames_[p];if(!h)return;var C=[];return h.forEach(function(e){C.push(f(e,t,n,r))}),Promise.all(C)}catch(e){if(u)throw e;return Gt(e.message),Yt()}}function Jt(e,t,n,r,o){return Xt(e,t,n,r,o)}function Zt(a,e){void 0===e&&(e={});var t="module["+a+"] reducer";if(!be(e))throw Error(t+" "+we);jt(a,!1,t+" is invalid");var n=Ut.reducer,r=n._reducer,o=n._caller,c=n._fnName_fullFnNames_,i=n._module_fnNames_,u=Object.assign({},e);r[a]=u;var s=ae(o,a),d=ce(i,a);u.setState||(u.setState=function(e){return e}),pe(u).forEach(function(e){d.includes(e)||d.push(e);var r=a+"/"+e,t=ce(c,e);t.includes(r)||t.push(r),s[e]=function(e,t,n){return Jt(r,e,t,n)};var o=u[e];if("function"!=typeof o)throw Error("reducer key["+e+"] 's value is not a function");var n=o;o.__fnName&&(u[e]=n=function(e,t,n){return o(e,t,n)}),n.__fnName=e,n.__stateModule=a,n.__ctName=o.__ctName||o.constructor.name})}var Qt=0,en=["a","A","b","B","c","C","d","D","e","E","f","F","g","G","h","H","i","I","j","J","k","K","l","L","m","M","n","N","o","O","p","P","q","Q","r","R","s","S","t","T","u","U","v","V","w","W","x","X","y","Y","z","Z"];function tn(e){return Qt++,(e||function(e){void 0===e&&(e=6);for(var t="",n=0;n<e;n++)t+=en[fe()];return t}())+"_"+Qt}var nn=Ut.moduleName_stateKeys_,rn=Ut.runtimeVar,on=1;function an(e,t,n,r,o){var a=t.refCtx,c=t.type;if(e!==Ke||a.__$$inBM){if(n){var i,u,s,d=typeof n;if("string"==d)be(r)?((u={})[n]=r,i=u):typeof r===P&&((s={})[n]=Ve(r,o),i=s);else if(be(n))i=n;else if(d===P&&!be(i=n(a)))throw Error("type of "+c+" callback result must be an object");i?function(U,O,N){var e=rn.computedCompare,t=rn.watchCompare,D=rn.watchImmediate,I=O.type===ge?e:t,A=O.module;pe(N).forEach(function(c){var e=N[c],t=typeof e,n=e;if(t===P&&(n={fn:e}),be(n)){var r=n,o=r.fn,a=r.immediate,i=void 0===a?D:a,u=r.compare,s=void 0===u?I:u,d=r.lazy,f=r.retKeyDep,l=void 0===f||f,p=n.depKeys||"-",y=n.sort||on++,_=tn("mark");if("*"===p||"-"===p){var v="-"===p&&l,m=dn(O,A,c,v),h=m.pureKey,C=m.module;cn(U,O,_,h),sn(U,O,C,h,o,p,i,s,d,y)}else if(0===p.length){var K=dn(O,A,c),g=K.pureKey,S=K.module;cn(U,O,_,g),sn(U,O,S,g,o,p,i,s,d,y)}else{var E=dn(O,A,c),$=E.pureKey,w=E.moduleOfKey,b=w;cn(U,O,_,$);var x={};p.forEach(function(e){var t=dn(O,A,e),n=t.isStateKey,r=t.pureKey,o=t.module;if(b&&o!==b)throw Error("including slash both in retKey["+c+"] and depKey["+e+"] founded, but their module is different");var a=ce(x,o);if(!n)throw Error("depKey["+e+"] invalid, module["+o+"] doesn't include its stateKey["+r+"]");un(O,o,r),a.push(r)}),pe(x).forEach(function(e){sn(U,O,e,$,o,x[e],i,s,d,y)})}}else xe("retKey["+c+"] item type error")})}(e,t,i):xe(e+" "+c+" param type error")}}else xe(e+" "+c+" must been called in setup block")}function cn(e,t,n,r){if(e===Ke){var o=t.refCtx,a=o.retKey_fnUid_,c=t.type,i=c+"_"+r;if(a[i])throw Error("ccUKey["+o.ccUniqueKey+"], retKey["+r+"] duplicate in ref "+c);a[i]=n}}function un(e,t,n){var r=e.refCtx;r&&(r.__$$staticWaKeys[j(t,n)]=1)}function sn(e,t,n,r,o,a,c,i,u,s){var d=ae(t.dep,n,{retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0}),f=d.retKey_fn_,l=d.stateKey_retKeys_,p=d.retKey_lazy_,y=d.retKey_stateKeys_,_=Array.isArray(a)&&0===a.length,v=s;_?v<0||(v=-1):s<0&&(v=0);var m={fn:o,immediate:c,compare:i,depKeys:a,sort:v,isStatic:_};f[r]?e!==Ke&&(f[r]=m,p[r]=u):(f[r]=m,p[r]=u,d.fnCount++),e===Ke&&(t.retKeyFns[r]=f[r]);var h=t.refCtx;if(h&&("computed"===t.type?h.hasComputedFn=!0:h.hasWatchFn=!0),"-"!==a){var C="*"===a?["*"]:a;"*"===a&&(y[r]=nn[n]),C.forEach(function(e){ue(l,e,r)})}}function dn(e,t,n,r){void 0===r&&(r=!1);var o,a=t,c=n,i="";if(n.includes("/")){var u=n.split("/"),s=u[0];s&&(a=i=s),c=u[1]}var d=nn[a];if(a===e.module)o=e.stateKeys;else{if(!(o=d))throw X(Ee.CC_MODULE_NOT_FOUND,Q("module["+a+"]"));if(!e.connect[a])throw X(Ee.CC_MODULE_NOT_CONNECTED,Q("module["+a+"], retKey["+c+"]"))}var f=o.includes(c);return r&&f&&function(e,t,n,r){var o=ae(e.dep,t,{retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0}),a=o.retKey_stateKeys_;ue(o.stateKey_retKeys_,n,n),ue(a,n,n),r&&un(e,t,n)}(e,a,c,d.includes(c)),{isStateKey:f,pureKey:c,module:a,moduleOfKey:i}}function fn(e,o){var t={};return pe(e).forEach(function(r){o[r]=J(),Object.defineProperty(t,r,{get:function(){var e=o[r]||{},t=e.isLazy;if(!t)return e.result;if(t&&e.needCompute){var n=(0,e.fn)(e.newState,e.oldState,e.fnCtx);e.result=n,e.needCompute=!1}return e.result},set:function(e){var t=o[r];e[x]?e.isLazy?(t.isLazy=!0,t.needCompute=!0,t.newState=e.newState,t.oldState=e.oldState,t.fn=e.fn,t.fnCtx=e.fnCtx):(t.isLazy=!1,t.result=e.result):xe("computed value can not been changed manually")}})}),t}var ln=be;function pn(n,e){if(e){var t="module["+n+"] computed";if(!ln(e))throw Error(t+" "+we);jt(n,!1,t+" is invalid");var r=Ut.computed,o=Ut.store.getState(),a=r.getRootComputedValue(),c=r.getRootComputedDep();r.getRootComputedRaw()[n]=e;var i=o[n];an(W,{type:ge,module:n,stateKeys:pe(i),dep:c},e);var u=Ut.getDispatcher(),s=Object.assign({},i);a[n]=fn(e,r._computedValueOri[n]);var d=a[n];ft(u,n,u&&u.ctx.module,i,function(e,t){return Be(t,W,"computed",c,n,i,e)},i,i,s,ke(n),!0,"computed",W,d)}}var yn=be,_n=ae,vn=pe;function mn(n,e,t){if(void 0===t&&(t=!1),e){var r="module["+n+"] watch";if(!yn(e))throw Error(r+" "+we);jt(n,!1,r+" is invalid");var o=Ut.watch.getRootWatchDep(),a=Ut.watch.getRootWatchRaw(),c=Ut.computed.getRootComputedValue();if(t){var i=a[n];i?Object.assign(i,e):a[n]=e}else a[n]=e;var u=(0,Ut.store.getState)(n);an(W,{module:n,stateKeys:vn(u),dep:o},e);var s=Ut.getDispatcher(),d=Object.assign({},u),f=_n(c,n);ft(s,n,s&&s.ctx.module,u,function(e,t){return Be(t,W,"watch",o,n,u,e)},u,u,d,ke(n),!0,"watch",W,f)}}var hn=[O,N,12,D,14,i],Cn={},Kn={},gn=1;function Sn(n,e,t){function r(e,t){t?n[e].push(t):console.warn("invalid sig["+e+"]")}Array.isArray(e)?e.forEach(function(e){r(e,t)}):r(e,t)}function En(t,n){Cn[t].forEach(function(e){return e({sig:t,payload:n})}),function(e){var t=Kn[e].slice();return Kn[e].length=0,t}(t).forEach(function(e){return e({sig:t,payload:n})})}function $n(e,t){Sn(Cn,e,t)}hn.forEach(function(e){return Cn[e]=[]}),hn.forEach(function(e){return Kn[e]=[]});var wn=function(e){if(!Ut.errorHandler)throw e;Ut.errorHandler(e)},bn=0,xn={},Un={},On={},Nn={};function Dn(){return++bn}function In(e,t,n,r){if(n){var o=r[e];o||(o=r[e]={});var a=o[t];a?Object.assign(a,n):o[t]=n}}function An(e,t,n){In(e,t,n,xn)}function Mn(e,t,n){return An(e,t,n),function(e){var t=function(e){return xn[e]}(e),n=[];return pe(t).forEach(function(e){n.push({module:e,state:t[e]})}),n}(e)}function Tn(e){delete xn[e]}var Rn={},Wn=function(e,t,n){void 0===n&&(n=1e3);var r=Rn[t];r&&clearTimeout(r),Rn[t]=setTimeout(function(){delete Rn[t],e()},n)};function kn(e,n,r,t,o,a){var c=e.ctx;if(!c.hasWatchFn)return{shouldCurrentRefUpdate:!0};var i=Object.assign({},t),u=c.watchDep,s=c.module,d=c.ccUniqueKey,f=c.refComputed;n!==s&&(f=c.connectedComputed[n]);var l=Object.assign({},r,t);return ft(e,n,s,r,function(e,t){return Be(t,Ke,Se,u,n,r,e,d)},t,l,i,o,a,Se,Ke,f)}function jn(e,n,r,t,o,a,c){void 0===a&&(a=!1),void 0===c&&(c=!1);var i=e.ctx,u=Object.assign({},t);if(!i.hasComputedFn)return u;var s=i.computedDep,d=i.module,f=i.ccUniqueKey,l=i.refComputed;n!==d&&(l=i.connectedComputed[n]);var p=Object.assign({},r,t);return ft(e,n,d,r,function(e,t){return Be(t,Ke,"computed",s,n,r,e,f)},t,p,u,o,a,"computed",Ke,l),c&&Object.assign(t,u),u}var Ln=pe,Pn=Ut.ccUKey_ref_,Fn=Ut.waKey_uKeyMap_,Vn=Ut.waKey_staticUKeyMap_;function qn(o,e,c,i){var t=Ln(e),n=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=[]),e+"/"+t.sort().join(",")+"/"+n+"/"+("*"===r?"*":r.sort().join(","))}(o,t,c,i),r=function(e,t){return Vt[e][t]}(o,n);if(r)return{sharedStateKeys:t,result:r};var a={},u=[],s=[];t.forEach(function(e){var t=o+"/"+e;Object.assign(a,Fn[t],Vn[t])});function d(e,t){e?u.push(t):s.push(t)}function f(e,t){var n=e.ctx,r=n.ccClassKey,o=n.ccUniqueKey;if(c){var a=n.renderKey===c;"*"===i?a&&d(t,o):i.includes(r)?a&&d(t,o):d(t,o)}else d(t,o)}var l=Ln(a),p=!1;l.forEach(function(e){var t=Pn[e];if(t){var n=t.ctx,r=!!n.connect[o];n.module===o&&f(t,!0),r&&f(t,!1)}else p=!0});var y={belong:u,connect:s};return p||function(e,t,n){Vt[e][t]=n}(o,n,y),{sharedStateKeys:t,result:y}}var zn=be,Hn=xe,Bn=q,Gn=function(e,t){return e+"/"+Object.keys(t).sort().join("|")},Yn=pe,Xn=1,Jn=2,Zn=Ce,Qn=me,er=i,tr=1,nr=2,rr=3,or=Ut.store,ar=or.setState,cr=or.getPrevState,ir=or.saveSharedState,ur=Ut.middlewares,sr=Ut.ccClassKey_ccClassContext_,dr=Ut.refStore,fr=Ut.moduleName_stateKeys_;function lr(e,t,a){var n=void 0===t?{}:t,c=n.module,r=n.skipMiddleware,i=void 0!==r&&r,u=n.payload,o=n.reactCallback,s=n.type,d=n.calledBy,f=void 0===d?Qn:d,l=n.fnName,p=void 0===l?"":l,y=n.renderKey,_=void 0===y?"":y,v=n.delay,m=void 0===v?-1:v;if(void 0!==e)if(zn(e)){var h=a.ctx,C=h.module,K=h.ccUniqueKey,g=h.ccKey,S=function(e,t){return e===t?Xn:Jn}(c,C),E={payload:u,renderKey:_,ccKey:g,module:c,fnName:p},$=function(e,t,n){var r=Ye(t,fr[e],!0).partialState;if(r)return ar(e,r,n);return r}(c,e,{ref:a,callInfo:E,noSave:!0});Object.assign(e,$),pr(a,E,_,f,e,S,o,!0,function(t,n,r){var o={calledBy:f,type:s,payload:u,renderKey:_,delay:m,ccKey:g,ccUniqueKey:K,committedState:n,refModule:C,module:c,fnName:p,sharedState:$||{},modState:function(e,t){o.committedState[e]=t,o.sharedState[e]=t}};!function(e,n,r){if(!0!==e){var o=ur.length;if(0<o){var a=0;!function e(){if(a===o)r();else{var t=ur[a];a++,"function"==typeof t?t(n,e):(Hn("found one middleware is not a function"),e())}}()}else r()}else r()}(i,o,function(){var e=ir(c,o.sharedState,!0);r&&r(),t===tr&&!e||En(er,{calledBy:f,type:s,committedState:n,sharedState:e,module:c,ccUniqueKey:K,renderKey:_}),e&&function(e,t,n,r,o,a,c){var i=function(){!function(c,e,i,t,u,n){if(!i)return;var s=Ut.ccUKey_ref_,r=e.ctx,o=r.ccUniqueKey,a=t===Xn,d=qn(u,i,n,sr[r.ccClassKey].renderKeyClasses),f=d.sharedStateKeys,l=d.result,p=l.connect;l.belong.forEach(function(e){var t=s[e];if(t){var n=t.ctx.ccUniqueKey;a&&n===o||pr(t,c,null,"broadcastState",i,Xn)}});var y=cr(u);p.forEach(function(e){var t=s[e];if(t&&!0!==t.__$$isUnmounted){var n=t.ctx,r=jn(t,u,y,i,c),o=kn(t,u,y,r,c),a=o.shouldCurrentRefUpdate;a&&(n.__$$settedList.push({module:u,keys:f}),n.__$$ccForceUpdate())}})}(e,t,n,r,o,a)};if(0<c){var u=Gn(t.ctx.ccUniqueKey,n);Wn(i,u,c)}else i()}(E,a,e,S,c,_,m)})})}else Hn("your committed state "+we)}function pr(e,t,n,r,o,a,c,i,u){void 0===i&&(i=!1);var s=e.state,d=e.ctx;if(!0===e.__$$isUnmounted||a!==Xn||r!==Zn&&!Bn(o))return c&&c(s),u&&u(tr,o);var f=d.module,l=d.storedKeys,p=d.ccUniqueKey,y=rr;if(n&&(y=nr,d.renderKey!==n))return u&&u(tr,o);if(0<l.length){var _=Ye(o,l),v=_.partialState;if(!_.isStateEmpty){if(!0===d.persistStoredKeys){var m=Ye(s,l),h=Object.assign({},m.partialState,v);localStorage.setItem("CCSS_"+p,JSON.stringify(h))}dr.setState(p,v)}}function C(){var e=i?De(d.state,K):K;e&&(d.__$$settedList.push({module:f,keys:Yn(e)}),d.__$$ccSetState(e,c,g))}var K=jn(e,f,s,o,t),g=kn(e,f,s,K,t,!1).shouldCurrentRefUpdate;u?u(y,K,C):C()}function yr(e,t,n,r,o){void 0===r&&(r=-1);try{Ht(e).ctx.changeState(t,{ccKey:"[[top api:setState]]",module:e,renderKey:n,delay:r,skipMiddleware:o})}catch(e){oe(e)}}var _r=xe,vr=be,mr=pe,hr=Ut.store,Cr=hr.getState,Kr=hr.setState,gr=Ut.reducer._reducer,Sr=Ut.computed._computedValue,Er=X,$r=Q;function wr(e,t){void 0===t&&(t=!0);try{return jt(e,!1,"module["+e+"] is not configured in store"),!0}catch(e){return function(e,t){if(void 0===t&&(t=!0),t)throw e;Ur(e)}(e,t),!1}}function br(o,a){return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?a(e):o.apply(void 0,n)}}function xr(e,t,n,r){var o;return!0===e?(function(e){On[e]=!0}(o=Dn()),r[o]=1):r[o=t||Dn()]||(r[o]=1),{_chainId:o,_oriChainId:n||o}}function Ur(e,t){e&&(t?t(e):(_r(e),Ut.errorHandler&&Ut.errorHandler(e)))}function Or(e,t,n){return function(r,o,a,c){return new Promise(function(e,t){var n=Object.assign(a,{__innerCb:br(e,t)});r(o,n,c)}).catch(wn)}(Mr,e,t,n)}function Nr(e,t,n){return Or(e,{callerRef:t.callerRef,context:!0,module:t.module,calledBy:t.calledBy,fnName:e.name,delay:t.delay,renderKey:t.renderKey,chainId:t.chainId,oriChainId:t.oriChainId,chainId_depth_:t.chainId_depth_,isSilent:t.isSilent},n)}function Dr(a,c){return function(e,t,n){var r=a.ctx;if(c){var o=Object.assign({},r.state,e);c.state=o}n?(r.renderCount+=1,r.reactSetState(e,t)):(Object.assign(a.state,e),r.state=a.state)}}function Ir(n){return function(e){var t=n.ctx;t.renderCount+=1,t.reactForceUpdate(e)}}function Ar(h,e){var t=void 0===e?{}:e,C=t.chainId,K=t.oriChainId,g=t.isLazy,n=t.delay,S=void 0===n?-1:n,r=t.isSilent,E=void 0!==r&&r,o=t.chainId_depth_,$=void 0===o?{}:o;return function(e,t,n,r){var o=g,a=E,c="",i=null!=r?r:S;if(vr(n)){var u=n.lazy,s=n.silent,d=n.renderKey,f=n.delay;void 0!==u&&(o=u),void 0!==s&&(a=s),void 0!==d&&(c=d),void 0!==f&&(i=f)}else c=n;var l,p,y=xr(o,C,K,$),_=typeof e,v={callerRef:h,calledBy:w,module:h.ctx.module,isSilent:a,chainId:y._chainId,oriChainId:y._oriChainId,chainId_depth_:$,delay:i,renderKey:c},m=Error("param type error, correct usage: invoke(userFn:function, ...args:any[]) or invoke(option:[module:string, fn:function], ...args:any[])");if("function"==_)return e.__fnName&&(e.name=e.__fnName),Nr(e,v,t);if("object"!=_)throw m;if(p=Array.isArray(e)?(l=e[1],e[0]):(l=e.fn,e.module),"function"!=typeof l)throw m;return p&&(v.module=p),Nr(l,v,t)}}function Mr(l,e,p){var y=e.callerRef,_=y.ctx.module,t=e.module,v=void 0===t?_:t,n=e.context,m=void 0!==n&&n,h=e.__innerCb,C=e.type,K=e.calledBy,g=e.fnName,r=e.delay,S=void 0===r?-1:r,E=e.renderKey,$=e.chainId,w=e.oriChainId,b=e.chainId_depth_,x=e.isSilent;!function(e,t,n,r){var o=n;wr(e,!1)?(e!==t&&n&&(_r(function(e,t){return"param module["+e+"] must equal current ref's module["+t+"] when pass param reactCallback, or it will never been triggered! "}(e,t)),o=null),r(null,o)):r(Error("inputModule:"+e+" invalid"),null)}(v,_,e.cb,function(e,r){if(e)return Ur(e,h);var o,t=Cr(v),n={};if(o=$===w&&1===b[$],m){b[$]=b[$]+1;var a=Tr(y,!1,x,v,E,S,$,w,b),c=Tr(y,!1,!0,v,E,S,$,w,b),i=Tr(y,!0,x,v,E,S,$,w,b),u=Ar(y,{delay:S,chainId:$,oriChainId:w,chainId_depth_:b}),s=Ar(y,{isLazy:!0,delay:S,oriChainId:w,chainId_depth_:b}),d=Ar(y,{isLazy:!1,delay:S,isSilent:!0,oriChainId:w,chainId_depth_:b}),f=function(e){return Nn[e]}($)||{};n={module:v,callerModule:_,committedStateMap:f,committedState:f[v]||{},invoke:u,lazyInvoke:s,silentInvoke:d,invokeLazy:s,invokeSilent:d,dispatch:a,lazyDispatch:i,silentDispatch:c,dispatchLazy:i,dispatchSilent:c,rootState:Cr(),globalState:Cr(ye),moduleState:t,moduleComputed:Sr[v]||{},setState:function(e){return a("setState",e,{silent:x,renderKey:E,delay:S})},refCtx:y.ctx}}!1===x&&En(O,{isSourceCall:o,calledBy:K,module:v,chainId:$,fn:l}),new Promise(function(e){return e(l(p,t,n))}).then(function(e){b[$]=b[$]-1;var t=1===b[$];!function(e,t,n){In(e,t,n,Nn)}($,v,e);var n=[];!1===x&&(En(N,{isSourceCall:o,calledBy:K,module:v,chainId:$,fn:l}),!function(e){return!0===On[e]}($)?n=[{module:v,state:e}]:t?function(e){return!0===Un[e]}($)||(n=Mn($,v,e),Tn($)):An($,v,e)),n.forEach(function(e){e.state&&lr(e.state,{renderKey:E,module:e.module,reactCallback:r,type:C,calledBy:K,fnName:g,delay:S,payload:p},y)}),o&&(Tn($),function(e){delete Nn[e]}($)),h&&h(null,e)}).catch(function(e){En(D,{isSourceCall:o,calledBy:K,module:v,chainId:$,fn:l}),Ur(e,h)})})}function Tr(b,x,U,O,N,D,I,A,M){return void 0===N&&(N=""),void 0===D&&(D=-1),void 0===M&&(M={}),function(e,n,t,r){void 0===e&&(e={});var o=x,a=U,c="",i=r||D;if(vr(t)){c=N;var u=t.lazy,s=t.silent,d=t.renderKey,f=t.delay;void 0!==u&&(o=u),void 0!==s&&(a=s),void 0!==d&&(c=d),void 0!==f&&(i=f)}else c=t||N;function l(){return Ar(b,{chainId:v,oriChainId:m,isLazy:o,chainId_depth_:M})(e,n,c,i)}var p,y,_=xr(o,I,A,M),v=_._chainId,m=_._oriChainId,h=typeof e,C=O;if(h&&"object"==h){if(Array.isArray(h))return l();var K=e.module;K&&(C=K),p=e.type,y=e.cb}else{if("string"!=h&&"function"!=h)return Promise.reject(Er(Ee.CC_DISPATCH_PARAM_INVALID));var g=e;if("function"==h){var S=e.__fnName;if(!S)return l();g=S,1==M[m]&&(C=e.__stateModule)}var E=g.split("").filter(function(e){return"/"===e}).length;if(0===E)p=g;else{if(1!==E)return Promise.reject(Er(Ee.CC_DISPATCH_STRING_INVALID,$r(g)));var $=g.split("/"),w=$[0];w&&(C=w),p=$[1]}}return"*"===C?Xt("*/"+p,n,{silent:a,lazy:o,renderKey:c},i,{refModule:b.ctx.module}):new Promise(function(e,t){!function(e){var t=void 0===e?{}:e,n=t.callerRef,r=t.module,o=t.renderKey,a=t.isSilent,c=t.type,i=t.payload,u=t.cb,s=t.__innerCb,d=t.delay,f=void 0===d?-1:d,l=t.chainId,p=t.oriChainId,y=t.chainId_depth_,_=gr[r];if(!_)return s(Error("no reducerMap found for module:["+r+"]"));var v=_[c];if(!v)return s(Error("no reducer fn found for ["+r+"/"+c+"], is these fn you want:"+Object.keys(_)));Mr(v,{callerRef:n,module:r,type:c,cb:u,context:!0,__innerCb:s,calledBy:T,delay:f,renderKey:o,isSilent:a,chainId:l,oriChainId:p,chainId_depth_:y},i)}({callerRef:b,module:C,type:p,payload:n,cb:y,__innerCb:br(e,t),delay:i,renderKey:c,isSilent:a,chainId:v,oriChainId:m,chainId_depth_:M})}).catch(wn)}}function Rr(c,e){return function(t){function n(){e&&e(function(e){for(var t="string"!=typeof e||e.includes("/")?e:c+"/"+e,n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];Xt.apply(void 0,[t].concat(r))},Cr(c))}try{!function(e,t){t&&(t.__seq=gn++,Sn(Kn,e,t))}(i,n),yr(c,t)}catch(e){!function(e,t){var n=t&&t.__seq;if(n){var r=Kn[e],o=r.findIndex(function(e){return e.__seq===n});r.splice(o,1)}}(i,n);var r=Cr(c);if(!r)return _r("invalid module "+c);var o=Ye(t,mr(r),!1,!0),a=o.ignoredStateKeys;o.isStateEmpty||Kr(c,o.partialState),0<a.length&&_r("invalid keys:"+a.join(",")+", their value is undefined or they are not declared in module"+c),re("no ccInstance found for module["+c+"] currently, cc will just store it, lately ccInstance will pick this state to render"),n()}}}var Wr=function(o){return function(e,t){var n=o.ctx,r=Object.assign({},o.state,e);n.type===_e?(o.state=n.state=r,n.__boundSetState(r),t&&t(r)):(n.state=r,o.__$$isMounted?o.state=r:Object.assign(o.state,e),n.__boundSetState(r,t))}},kr=function(r){return function(e){var t=r.ctx;if(t.type===_e){var n=Object.assign({},r.state);t.__boundSetState(n),e&&e(n)}else t.__boundForceUpdate(e)}},jr=be,Lr=je;function Pr(t,n){if(Ut.isStartup){if(!jr(n))throw Error("param config "+we);if(t===ye)throw Error("configuring global module is not allowed");var e=n.state,r=n.reducer,o=n.computed,a=n.watch,c=n.init,i=n.isClassSingle,u=Lr(e);if("function"==typeof e&&(Ut.moduleName_stateFn_[t]=e),r&&!jr(r))throw Error("config.reducer "+we);if(zt(t,u,!0),Zt(t,r),o&&pn(t,o),a&&mn(t,a),Ut.moduleSingleClass[t]=!0===i,c){if("function"!=typeof c)throw Error("init value must be a function!");Promise.resolve().then(c).then(function(e){Rr(t,n.initPost)(e)})}Ut.moduleName_isConfigured_[t]=!0,En(14,t)}else At.push({module:t,config:n})}function Fr(r,o){var a={};return pe(r).forEach(function(e){function t(){return n.apply(void 0,arguments)}var n=r[e];t.__fnName=e,t.__stateModule=o,a[e]=t}),a}function Vr(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var zr=pe,Hr=be,Br=Ut.store._state,Gr=Object.prototype.hasOwnProperty;var Yr=z,Xr=X,Jr=Ut.featureStr_classKey_,Zr=Ut.userClassKey_featureStr_,Qr=Ut.ccClassKey_ccClassContext_,eo=0;var to=Ut.moduleName_stateKeys_,no=Ut.moduleName_ccClassKeys_,ro=Ut.moduleSingleClass,oo=Ut.ccClassKey_ccClassContext_,ao=Ut.computed._computedValue,co=function(e,t){var n=!1,r=!1;if(!Array.isArray(e))return{duplicate:n,notArray:!0,keyElementNotString:r};if(!Array.isArray(t))return{duplicate:n,notArray:!0,keyElementNotString:r};var o=e.length,a=t.length;e:for(var c=0;c<o;c++){var i=e[c];if("string"!=typeof i){r=!0;break e}for(var u=0;u<a;u++){var s=t[u];if("string"!=typeof s){r=!0;break e}if(s===i){n=!0;break e}}}return{duplicate:n,notArray:!1,keyElementNotString:r}},io=Q;function uo(e,t,n,r,o,a,c,i,u){void 0===e&&(e=H),void 0===a&&(a=[]),!0===i&&function(){if(!0!==Ut.isStartup)throw Error("you must startup cc by call startup method before register ReactClass to cc!")}();var s="cc"===u;jt(e,!1,"module["+e+"] is not configured in store"),Lt(to[e],a);var d=c,f=Array.isArray(c);!f&&"string"!=typeof c||(d={},(f?c:c.split(",")).forEach(function(e){return d[e]="-"}));e===ye||d[ye]||(d[ye]="-");var l,p=function(e,t,n){if(t===Y)return[];if(!n)return[];if("*"===n)return to[e];var r=co(n,[]);if(r.notArray||r.keyElementNotString)throw Error("watchedKeys "+F+" "+io("ccClassKey:"+t));return n}(e,t,o),y=function(o,e,t,a){if(!Hr(o))throw Error("CcFragment or CcClass's prop connect type error, it "+we);function c(e){return i+" module["+e+"]'s value must be * or array of string"}var i="CcFragment or CcClass's prop connect is invalid,",n=zr(o);n.sort();var u=[],s={};if(n.forEach(function(t){var n=Br[t],r=a+"_"+t+"/";if(void 0===n)throw Error(i+" module["+t+"] not found in cc store ");var e=o[t];if("string"==typeof e){if("*"!==e&&"-"!==e)throw Error(c(t));u.push(r+"*"),zr(n).forEach(function(e){return s[t+"/"+e]=e})}else{if(!Array.isArray(e))throw Error(c(t));e.forEach(function(e){if(!Gr.call(n,e))throw Error(i+" module["+t+"]'s key["+e+"] not declared in cc store ");r+=e+",",s[t+"/"+e]=e}),u.push(r)}}),u.push("|"),"*"===e)u.push(a+"_$"+t+"/*");else{e.sort();var r=t+"/"+e.join(",");u.push(r)}return{featureStr:u.join("@"),connectedModuleKeyMapping:s,connectedModuleNames:n}}(d,p),_=y.connectedModuleKeyMapping,v=y.connectedModuleNames,m=function(e,t,n,r,o,a,c){if(void 0===c&&(c=""),!c){if(t===H&&Yr(n)&&0===r.length)return o+"0";var i=o+":"+a,u=Jr[i];return u||(Jr[i]=u=""+o+ ++eo)}if(c.startsWith(h))throw Error("user can not specify a classKey["+c+"] starts with $$Cc");if(!e&&c.toLowerCase()==Y.toLowerCase())throw Error(Y+" is cc built-in ccClassKey name.");if(Qr[c]){if(Zr[c]!==a)throw Xr(Ee.CC_CLASS_KEY_DUPLICATE,"ccClassKey:["+c+"] duplicate")}else Zr[c]=a;return c}(s,e,d,p,r,y.featureStr,t);if(n){if(!Array.isArray(n)&&"*"!==n)throw Error("renderKeyClasses type err, it is must be an array or string *");l=n}else l=[m];return function(e,t,n,r,o,a,c){var i=oo[e];i||(i=function(e,t,n,r,o){return{module:e,ccClassKey:t,renderKeyClasses:n,originalWatchedKeys:o,watchedKeys:r,ccKeys:[],connectedState:{},connectedModuleKeyMapping:null,connectedModule:{}}}(n,e,t,o,r),oo[e]=i);var u={},s={};if(a){var d=Ut.store._state,f=i.connectedState;c.forEach(function(e){f[e]=d[e],s[e]=ao[e],u[e]=1}),i.connectedModuleKeyMapping=a,i.connectedModule=u,i.connectedComputed=s}}(m,l,e,o,p,_,v),function(e,t){var n=ce(no,e);if(!0===ro[e]&&1<=n.length)throw Error("module["+e+"] is declared as single, only on ccClassKey can been registered to it, and now a ccClassKey["+n[0]+"] has been registered!");n.includes(t)||n.push(t)}(e,m),{_module:e,_connect:d,_watchedKeys:p,_ccClassKey:m}}var so=Ut.event_handlers_,fo=Ut.handlerKey_handler_,lo=Ut.ccUKey_handlerKeys_,po=Ut.ccUKey_ref_,yo=function(e,t,n){return e+"$"+t+"$"+n},_o=ce,vo=xe;function mo(e,t,n,r,o){void 0===o&&(o=null);var a=so[e];if(a){var c=a;return r?c=a.filter(function(e){return e.ccUniqueKey===r}):n?c=a.filter(function(e){return e.ccClassKey===n}):t&&(c=a.filter(function(e){return e.module===t})),void 0!==o&&(c=c.filter(function(e){return e.identity===o})),c}return[]}function ho(e){var o={},r=[];e.forEach(function(e){var t=e.ccUniqueKey,n=e.event;delete fo[e.handlerKey],o[t]=1,r.includes(n)||r.push(n)}),r.forEach(function(e){var r=so[e];r&&(r.forEach(function(e,t){var n=e.ccUniqueKey;1===o[n]&&(r[t]=null,delete lo[n])}),so[e]=r.filter(function(e){return null!==e}))})}function Co(e,t,n,r,o,a){var c=_o(so,r);if("function"!=typeof a)return vo("event "+r+"'s handler is not a function!");var i=yo(n,r,o),u=_o(lo,n),s=c.findIndex(function(e){return e.handlerKey===i}),d={event:r,module:e,ccClassKey:t,ccUniqueKey:n,identity:o,handlerKey:i,fn:a};-1<s?c[s]=d:(c.push(d),u.push(i)),fo[i]=d}function Ko(e){for(var t=arguments.length,a=Array(1<t?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r,o,c,i,u=null,s=null;"string"==typeof e?r=e:(r=e.name,u=e.identity,o=e.module,c=e.ccClassKey,i=e.ccUniqueKey,s=e.canPerform),mo(r,o,c,i,u).forEach(function(e){var t=e.handlerKey,n=po[e.ccUniqueKey];if(n&&t){if(n.__$$isUnmounted)return;var r=fo[t];if(r){if(s&&!s(n))return;var o=r.fn;n.__$$isMounted?o.apply(void 0,a):n.ctx.__$$onEvents.push({fn:o,args:a})}}})}function go(e,t){ho(mo(e,t.module,t.ccClassKey,t.ccUniqueKey,t.identity))}function So(e){var t=lo[e];if(t){var n=[];t.forEach(function(e){return n.push(fo[e])}),ho(n)}}function Eo(e){if(e&&"object"==typeof e){var t;if(Array.isArray(e))t={name:e[0],identity:e[1]};else t=Object.assign({},e);return t}return{name:e}}var $o=Object.freeze({bindEventHandlerToCcContext:Co,findEventHandlersToPerform:Ko,findEventHandlersToOff:go,offEventHandlersByCcUniqueKey:So,getEventItem:Eo});function wo(n,e,r,o){return new Proxy(e,{get:function(e,t){return Je(n,r,t,o),e[t]},set:function(e,t,n){return e[t]=n,!0}})}var bo=xe,xo=Z;function Uo(e){return e?e.props||e:{}}var Oo=Ut.store.getState;var No=function(e,t,n){var r=n.module,o=n.state,a=!1,c="",i="",u="",s=null,d=-1,f=!1,l=e[ve],p=e.type,y=!1;if(void 0!==l){var _,v,m;if(d=e.delay,i=e.rkey,a="int"===p,f="bool"===p,(c=l).includes("/")){var h=c.split("/");_=h[1],v=c,m=h[0]}else v=r+"/"+(_=c),m=r;var C=Oo(m);u="bool"===p?!Le(m!==r?C:o,_):function(e){var t=Ue(e);return t?t.currentTarget.value:e}(t);var K=e.val;if(void 0===K);else if("function"==typeof K){var g=K(u,_,{module:m,moduleState:C,fullKeyPath:v,state:o,refCtx:n});if(null!=g)if("as"===p)u=g;else{var S=typeof g;"boolean"==S?y=!g:"object"==S?(y=!0,s=g):xe("syncKey["+l+"] cb result type error.")}else"as"===p&&(y=!0)}else u=K}else{var E=Ue(t);if(!E)return null;var $=E.currentTarget;u=$.value;var w=$.dataset;if(a="int"===p||void 0!==w.ccint,!(c=w.ccsync))return null;i=w.ccrkey;var b=w.ccdelay;if(b)try{d=parseInt(b)}catch(e){}}return{currentTarget:{value:u,extraState:s,noAutoExtract:y,dataset:{ccsync:c,ccint:a,ccdelay:d,ccrkey:i}},isToggleBool:f}};var Do=function(e,t,n,r,o){var a=t;!0!==n||Number.isNaN(a=parseInt(t))&&(xe(t+" can not convert to int but you set ccint as true!ÔºÅ"),a=t);var c=null,i=[];if(e.includes("/")){var u=e.split("/"),s=u[1];c=u[0],i=s.includes(".")?s.split("."):[s]}else i=e.includes(".")?e.split("."):[e];if(1===i.length){var d,f,l=i[0];return!0!==o?{module:c,state:(d={},d[l]=a,d)}:{module:c,state:(f={},f[l]=!r[l],f)}}var p,y=i[0],_=i.slice(1),v=r[y];return function e(t,n,r,o,a,c){void 0===c&&(c=!1);var i=n[o];if(r===o)if(!0===c){var u=t[i];"boolean"!=typeof u?xe("key["+i+"]'s value type is not boolean"):t[i]=!u}else t[i]=a;else e(t[i],n,r,++o,a,c)}(v,_,_.length-1,0,a,o),{module:c,state:(p={},p[y]=v,p)}},Io=Ut.store.getState;function Ao(e,t,n){var r=t.ctx,o=r.module,a=No(e,n,r);if(a){var c=a.currentTarget,i=c.dataset,u=c.value,s=c.extraState,d=c.noAutoExtract;n&&n.stopPropagation&&n.stopPropagation();var f=i.ccsync,l=i.ccint,p=i.ccdelay,y=i.ccrkey;if(f.startsWith("/")&&(i.ccsync=""+o+f),f.includes("/")){var _=f.split("/")[0];jt(_,!1);var v=r.ccKey,m=r.ccUniqueKey;if(d)return void(s&&lr(s,{calledBy:K,ccKey:v,ccUniqueKey:m,module:_,renderKey:y,delay:p},t));var h=_!==o?Io(_):t.state;lr(Do(f,u,l,h,a.isToggleBool).state,{calledBy:K,ccKey:v,ccUniqueKey:m,module:_,renderKey:y,delay:p},t)}else{if(d)return void(s&&t.setState(s,null,y,p));var C=Do(f,u,l,t.state,a.isToggleBool);t.setState(C.state,null,y,p)}}}var Mo=Ut.reducer,To=Mo._module_fnNames_,Ro=Mo._caller,Wo=Ut.refStore,ko=Ut.ccClassKey_ccClassContext_,jo=Ut.moduleName_stateKeys_,Lo=Ut.store.getState,Po=Ut.moduleName_ccClassKeys_,Fo=pe,Vo=X,qo=Q,zo=ce,Ho=ae,Bo=xe,Go=z,Yo=0;var Xo=function(){},Jo=function(e){return"type of defineEffect "+e+" param must be"},Zo=function(e){return"-"===e.watchedKeys?Fo(e.__$$renderStatus===L?e.__$$compareWaKeys:e.__$$curWaKeys):e.watchedKeys},Qo=function(t,e){function n(e){return Fo(t.__$$renderStatus===L?t.__$$compareConnWaKeys[e]:t.__$$curConnWaKeys[e])}function r(e){if(c)return n(e);var t=o[e];return"*"===t?jo[e]:"-"===t?n(e):t}var o=t.connect,a=t.connectedModules,c=Array.isArray(o);if(e)return r(e);var i={};return a.forEach(function(e){return i[e]=r(e)}),i};function ea(t,n,e){("*"===e?jo[n]:e).forEach(function(e){return function(e,t,n){E(g,j(e,t),n)}(n,e,t)})}function ta(c,e,t){void 0===t&&(t=5);var n=e.isSingle,o=e.ccClassKey,r=e.ccKey,a=void 0===r?"":r,i=e.module,u=e.type,s=e.insType,d=e.state,f=e.storedKeys,l=void 0===f?[]:f,p=e.persistStoredKeys,y=void 0!==p&&p,_=e.watchedKeys,v=e.connect,m=void 0===v?{}:v,h=e.tag,C=void 0===h?"":h,K=e.ccOption,g=void 0===K?{}:K,S=i,E=c.ctx,$=Go(E),w=jo[S],b=c.setState,x=c.forceUpdate;!$&&E.ccUniqueKey?(b=E.__boundSetState,x=E.__boundForceUpdate):u!==_e&&(b=c.setState.bind(c),x=c.forceUpdate.bind(c));var U={};U.persistStoredKeys=void 0===g.persistStoredKeys?y:g.persistStoredKeys,U.tag=g.tag||C;var O=function(e,t,n,r){var o;if(e)n&&bo("now the ccClass is singleton, you needn't supply ccKey to instance props, cc will ignore the ccKey["+n+"]"),o=t;else if(n)o=xo(t,n);else{var a=tn(r);o=xo(t,a)}return o}(n,o,a,U.tag);if(U.renderKey=g.renderKey||O,U.storedKeys=function(e,t,n,r){var o=n||r;return o?"*"===o?Object.keys(e).filter(function(e){return!t.includes(e)}):(Lt(t,o),o):[]}(d,w,g.storedKeys,l),a&&!o)throw Error("missing ccClassKey while init a cc ins with ccKey["+a+"]");if(0<U.storedKeys.length&&!a)throw Vo(Ee.CC_STORED_KEYS_NEED_CCKEY,qo("ccClassKey["+o+"]"));var N=Lo(i),D=Wo._state[O]||{},I=Object.assign({},d,D,N),A=Fo(c.state=I),M=ko[o].connectedState,T=Fo(m),R={},W={};T.forEach(function(e){return W[e]=rt(c,e,!1)});var k=rt(c,i),j=W[ye],L=wo(c,Lo(ye),ye,!1),P=Ie(Fo(d),w),F=wo(c,N,i,!0);i===ye&&xe("belong to $$global is not good.");var V=zo(Po,i);V.includes(o)||V.push(o);function q(e,t){lr(e,t,c)}function z(e,t,n,r,o,a){q(t,{calledBy:n,module:e,renderKey:o,delay:a,reactCallback:r})}function H(e,t,n,r,o){z(e,t,he,n,r,o)}function B(e,t,n,r,o){"string"==typeof e?H(e,t,n,r,o):z(S,e,me,t,n,r)}function G(e,t,n){z(S,c.state,Ce,e,t,n)}var Y=[],X=[],J={effectItems:Y,eid_effectReturnCb_:{},effectPropsItems:X,eid_effectPropsReturnCb_:{}},Z={},Q=Uo(c.props),ee={type:u,insType:s,isSingle:n,module:i,ccClassKey:o,ccKey:a,ccUniqueKey:O,renderCount:1,initTime:Date.now(),watchedKeys:_,privStateKeys:P,connect:m,connectedModules:T,__$$onEvents:[],__$$hasModuleState:0<w.length,__$$renderStatus:$e,__$$curWaKeys:{},__$$compareWaKeys:{},__$$compareWaKeyCount:0,__$$nextCompareWaKeys:{},__$$nextCompareWaKeyCount:0,__$$curConnWaKeys:{},__$$compareConnWaKeys:{},__$$compareConnWaKeyCount:{},__$$nextCompareConnWaKeys:{},__$$nextCompareConnWaKeyCount:{},__$$staticWaKeys:{},__$$staticWaKeyList:[],persistStoredKeys:U.persistStoredKeys,storedKeys:U.storedKeys,renderKey:U.renderKey,tag:U.tag,prevProps:Q,props:Q,mapped:{},prevState:I,state:I,moduleState:F,mstate:N,globalState:L,connectedState:R,extra:{},staticExtra:{},refComputed:{},refComputedValue:{},refComputedOri:{},moduleComputed:k,globalComputed:j,connectedComputed:W,moduleReducer:{},connectedReducer:{},reducer:{},stateKeys:A,computedDep:{},computedRetKeyFns:{},watchDep:{},watchRetKeyFns:{},execute:null,effectMeta:J,retKey_fnUid_:{},reactSetState:Xo,__boundSetState:b,reactForceUpdate:Xo,__boundForceUpdate:x,setState:B,setModuleState:H,forceUpdate:G,changeState:q,refs:Z,useRef:function(t){return function(e){return Z[t]={current:e}}},__$$ccSetState:Dr(c),__$$ccForceUpdate:Ir(c),__$$settedList:[],__$$prevMoStateVer:{},__$$prevModuleVer:{}};c.setState=B,c.forceUpdate=G,ee.initState=function(e){return c.__$$isMounted?Bo("ctx.initState can only been called before first render period!"):be(d)?(c.state=Object.assign({},d,e,D,F),void(ee.prevState=ee.state=c.state)):Bo("state "+we)};var te=Tr(c,!1,!1,S);if(ee.dispatch=te,1<t&&(ee.lazyDispatch=Tr(c,!0,!1,S),ee.silentDispatch=Tr(c,!1,!0,S),ee.dispatchLazy=ee.lazyDispatch,ee.dispatchSilent=ee.silentDispatch,ee.invoke=Ar(c),ee.lazyInvoke=Ar(c,{isLazy:!0}),ee.silentInvoke=Ar(c,{isLazy:!1,isSilent:!0}),ee.invokeLazy=ee.lazyInvoke,ee.invokeSilent=ee.silentInvoke,ee.setGlobalState=function(e,t,n,r){z(ye,e,me,t,n,r)}),2<t){var ne=function(e,t,n,r,o){var a;if("string"==typeof e)return Ao.bind(null,((a={})[ve]=e,a.type=o,a.val=t,a.delay=r,a.rkey=n,a),c);Ao({type:"val"},c,e)};ee.sync=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"val")},ee.syncBool=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"bool")},ee.syncInt=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"int")},ee.syncAs=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"as")},ee.set=function(e,t,n,r){var o;void 0===n&&(n=""),void 0===r&&(r=-1),Ao(((o={})[ve]=e,o.type="val",o.val=t,o.delay=r,o.rkey=n,o),c)},ee.setBool=function(e,t,n){var r;void 0===t&&(t=""),void 0===n&&(n=-1),Ao(((r={})[ve]=e,r.type="bool",r.delay=n,r.rkey=t,r),c)}}if(3<t&&(ee.emit=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ko.apply($o,[Eo(e)].concat(n))},ee.off=function(e,t){var n=void 0===t?{}:t,r=n.module,o=n.ccClassKey,a=n.ccUniqueKey,c=void 0===a?O:a,i=Eo(e);go(i.name,{module:r,ccClassKey:o,ccUniqueKey:c,identity:i.identity})},ee.on=function(e,t){var n=Eo(e),r=n.identity;Co(S,o,O,n.name,void 0===r?null:r,t)}),4<t){ee.execute=function(e){return ee.execute=e},ee.watch=function(r){return function(e,t,n){an(Ke,{type:Se,refCtx:r,stateKeys:r.stateKeys,retKeyFns:r.watchRetKeyFns,module:r.module,connect:r.connect,dep:r.watchDep},e,t,n)}}(ee),ee.computed=function(r){return function(e,t,n){an(Ke,{type:ge,refCtx:r,stateKeys:r.stateKeys,retKeyFns:r.computedRetKeyFns,module:r.module,connect:r.connect,dep:r.computedDep},e,t,n)}}(ee);var re=function(u,s){return function(e,t,n,r){if(void 0===n&&(n=!0),void 0===r&&(r=!0),"function"!=typeof e)throw Error(Jo("first")+" function");var o=t,a=s?n:r;if(null!=t&&!Array.isArray(t))throw Error(Jo("second")+" one of them(array, null, undefined)");var c=null;!s&&o&&(c=[],o.forEach(function(e){var t;if(e.includes("/")){var n=(t=e).split("/");if(!ee.connect[n[0]])throw Vo(Ee.CC_MODULE_NOT_CONNECTED,qo("depKey["+e+"]"))}else t=S+"/"+e;c.push(t),ee.__$$staticWaKeys[t]=1}));var i={fn:e,isProp:s,depKeys:o,modDepKeys:c,eId:Symbol("__autoGen_"+ ++Yo+"__"),compare:n,immediate:a};u.push(i)}};ee.effect=re(Y,!1),ee.effectProps=re(X,!0)}var oe=ee.moduleReducer,ae=ee.connectedReducer,ce=ee.__$$curConnWaKeys,ie=ee.__$$compareConnWaKeys,ue=ee.__$$compareConnWaKeyCount,se=ee.__$$nextCompareConnWaKeys,de=ee.__$$nextCompareConnWaKeyCount,fe=T.slice();fe.includes(i)?Bo("["+O+"]'s module["+i+"] is in belongTo and connect both, it will cause redundant render."):fe.push(i);var le=!1;if(fe.forEach(function(o){var e;e=o===i?oe:Ho(ae,o);var t=m[o];if(t){var n=M[o];"-"===t?(le=!0,ce[o]={},ie[o]={},ue[o]=0,se[o]={},de[o]=0,n=o===ye?ee.globalState:wo(c,n,o)):ea(O,o,t),R[o]=n}(To[o]||[]).forEach(function(r){e[r]=function(e,t,n){return te(o+"/"+r,e,t,n)}})}),ee.reducer=Ro,ee.mr=ee.moduleReducer,ee.cr=ee.connectedReducer,ee.r=ee.reducer,"-"===_?le=!0:ea(O,i,_),ee.__$$autoWatch=le,ee.getWatchedKeys=function(){return Zo(c.ctx||ee)},ee.getConnectWatchedKeys=function(e){return Qo(c.ctx||ee,e)},$)c.ctx=ee;else{var pe=c.ctx;Object.assign(c.ctx,ee,{__$$curWaKeys:pe.__$$curWaKeys,__$$compareWaKeys:pe.__$$compareWaKeys,__$$compareWaKeyCount:pe.__$$compareWaKeyCount,__$$nextCompareWaKeys:pe.__$$nextCompareWaKeys,__$$nextCompareWaKeyCount:pe.__$$nextCompareWaKeyCount,__$$curConnWaKeys:pe.__$$curConnWaKeys,__$$compareConnWaKeys:pe.__$$compareConnWaKeys,__$$compareConnWaKeyCount:pe.__$$compareConnWaKeyCount,__$$nextCompareConnWaKeys:pe.__$$nextCompareConnWaKeys,__$$nextCompareConnWaKeyCount:pe.__$$nextCompareConnWaKeyCount})}}var na=Ut.store.getState;var ra=pe,oa=Ut.runtimeVar;function aa(n,e,t){var r=n.ctx;if(n.__$$isUnmounted=!1,r.__$$inBM=!(n.__$$isMounted=!1),e){if("function"!=typeof e)throw Error("type of setup must be function");var o=e(r)||{};if(!be(o))throw Error("type of setup return result must be an plain json object");(!0===t||!0===oa.bindCtxToMethod&&!1!==t)&&ra(o).forEach(function(e){var t=o[e];"function"==typeof t&&(o[e]=t.bind(n,r))}),r.settings=o}r.refComputedValue=fn(r.computedRetKeyFns,r.refComputedOri),r.refComputed=rt(n,null,!0,!0),function(o){function e(r){r(o,c,i,i,u,!0,!0),a.forEach(function(e){var t=na(e),n=ke(e);r(o,e,t,t,n,!0,!0)})}var t=o.ctx,n=t.hasComputedFn,r=t.hasWatchFn,a=t.connectedModules,c=t.module,i=t.state,u=ke(c);n&&e(jn),r&&e(kn)}(n),r.__$$inBM=!1}var ca=Ut.moduleName_stateKeys_,ia=Ut.store,ua=ia.getPrevState,sa=ia.getState,da=ia.getStateVer,fa=function(e,t){return xe("effect: key["+e+"] is invalid, its "+t+" has not been declared in' store!")};function la(e,t){function n(a,c,i){return function(e){var t=e.fn,n=e.eId;if(!i||!1!==e.immediate){var r=a[n];r&&r(u);var o=t(u,c);a[n]=o}}}var u=e.ctx,r=u.effectMeta,o=r.effectItems,a=r.eid_effectReturnCb_,c=r.effectPropsItems,i=r.eid_effectPropsReturnCb_,m=u.__$$prevMoStateVer,h=u.__$$settedList,C=u.module;if(t)o.forEach(n(a,!0,!0)),c.forEach(n(i,!0,!0));else{var K=u.prevState,g=e.state,S=[];o.forEach(function(e){var t=e.modDepKeys,n=e.compare,r=e.fn,o=e.eId;if(t){var a=t.length;if(0===a)return;for(var c=function(e){return e.reduce(function(t,e){var n=e.module;return e.keys.forEach(function(e){return t[n+"/"+e]=1}),t},{})}(h),i=!1,u=0;u<a;u++){var s=t[u];if(n){var d=void 0,f=void 0,l=s.split("/"),p=l[0],y=l[1];if(p!==C){var _=ua(p),v=da(p);if(m[y]===v[y])continue;if(m[y]=v[y],!_){fa(s,"module["+p+"]");continue}if(!ca[p].includes(y)){fa(s,"unmoduledKey["+y+"]");continue}d=sa(p),f=_}else d=g,f=K;if(f[y]!==d[y]){i=!0;break}}else if(c[s]){i=!0;break}}i&&S.push({fn:r,eId:o})}else S.push({fn:r,eId:o})}),S.forEach(n(a,!1,!1));var s=u.prevProps,d=u.props,f=[];c.forEach(function(e){var t=e.depKeys,n=e.fn,r=e.eId;if(t){var o=t.length;if(0===o)return;for(var a=!1,c=0;c<o;c++){var i=t[c];if(s[i]!==d[i]){a=!0;break}}a&&f.push({fn:n,eId:r})}else f.push({fn:n,eId:r})}),f.forEach(n(i,!1,!1)),h.length=0}}var pa=xe,ya=X,_a=Q,va=te,ma=ee,ha=Ut.runtimeVar,Ca=Ut.ccClassKey_ccClassContext_,Ka=Ut.ccUKey_ref_,ga={};function Sa(e,t,n,r){function o(){Ka[e]=t,n.push(e)}!function(e){void 0===ga[e]?ga[e]=1:ga[e]+=1}(e),r?setTimeout(o,r):o()}function Ea(e,t,n,r,o){var a=Ca[n],c=a.ccKeys;ha.isDebug&&console.log(va("register ccKey "+o+" to CC_CONTEXT"),ma());var i=Ut.isHotReloadMode();if(c.includes(o)){var u=function(){throw ya(Ee.CC_CLASS_INSTANCE_KEY_DUPLICATE,_a("ccClass:"+n+",ccKey:"+o))};if(i){var s=function(e){return void 0===ga[e]?0:ga[e]}(o);if(t&&0<s)throw ya(Ee.CC_CLASS_INSTANCE_MORE_THAN_ONE,_a("ccClass:"+n));1<s&&u(),pa("\n        found ccKey["+r+"] duplicated in hot reload mode, please make sure your ccKey is unique manually,\n        "+_a("ccClassKey:"+n+" ccKey:"+r+" ccUniqueKey:"+o)+"\n      "),Sa(o,e,c,600)}else u()}else Sa(o,e,c);return a}function $a(t,e,n,r){var o=!1,a=pe(t);a.forEach(function(e){2===t[e]&&(o=!0,b(n,e,r))}),e<a.length&&(o=!0),o&&qt(n)}function wa(e){var t=e.ctx;if(t.__$$renderStatus=$e,t.__$$autoWatch){var n=t.connectedModules,r=t.connect,o=t.ccUniqueKey,a=t.__$$compareConnWaKeys,c=t.__$$compareConnWaKeyCount;$a(t.__$$compareWaKeys,t.__$$compareWaKeyCount,t.module,o),n.forEach(function(e){"-"===r[e]&&$a(a[e],c[e],e,o)})}}function ba(e){wa(e),e.__$$isMounted=!0,e.__$$isUnmounted=!1;var t=e.ctx,n=t.ccUniqueKey,r=t.__$$onEvents,o=t.__$$staticWaKeys;Ea(e,t.isSingle,t.ccClassKey,t.ccKey,n);var a=pe(o);(e.ctx.__$$staticWaKeyList=a).forEach(function(e){return function(e,t){E(S,e,t)}(e,n)}),0<r.length&&(r.forEach(function(e){return e.fn.apply(void 0,e.args)}),r.length=0),la(e,!0)}function xa(e){wa(e),la(e),e.ctx.prevState=e.state}var Ua=Ut.ccUKey_ref_,Oa=Ut.ccUKey_handlerKeys_,Na=Ut.runtimeVar,Da=Ut.ccClassKey_ccClassContext_,Ia=Ut.handlerKey_handler_;function Aa(e,t){Na.isDebug&&console.log(te(t+" unset ref"),ee("purple")),delete Ua[t];var n=Da[e].ccKeys,r=n.indexOf(t);r<0||n.splice(r,1),function(e){void 0===ga[e]?ga[e]=0:ga[e]-=1}(t);var o=Oa[t];o&&o.forEach(function(e){delete Ia[e]})}var Ma=pe;function Ta(n,r){function e(e){var t=n[e];"function"==typeof t&&t(r)}Object.getOwnPropertySymbols(n).forEach(e),Ma(n).forEach(e)}function Ra(e){e.__$$isUnmounted=!0;var t=e.ctx,n=t.ccUniqueKey,r=t.ccClassKey,o=t.module,a=t.__$$staticWaKeyList;if(e.__$$isMounted){var c=t.effectMeta,i=c.eid_effectPropsReturnCb_;Ta(c.eid_effectReturnCb_,t),Ta(i,t),So(n)}t.getWatchedKeys().forEach(function(e){return b(o,e,n)});var u=t.getConnectWatchedKeys();pe(u).map(function(t){u[t].forEach(function(e){return b(t,e,n)})}),a.forEach(function(e){return function(e,t){try{delete S[e][t]}catch(e){}}(e,n)}),Aa(r,n)}var Wa=Ut.store;function ka(e){var t=e.ctx;if(t.__$$renderStatus=L,t.__$$autoWatch){if(t.__$$hasModuleState){var n=t.__$$prevModuleVer,r=t.module,o=Wa.getModuleVer(r)[r];n[r]!==o&&(n[r]=o,Object.assign(e.state,t.mstate)),e.state=wo(e,e.state,r,!0),t.state=e.state,t.__$$curWaKeys={},t.__$$compareWaKeys=t.__$$nextCompareWaKeys,t.__$$compareWaKeyCount=t.__$$nextCompareWaKeyCount,t.__$$nextCompareWaKeys={},t.__$$nextCompareWaKeyCount=0}var a=t.connect;t.connectedModules.forEach(function(e){"-"===a[e]&&(t.__$$curConnWaKeys[e]={},t.__$$compareConnWaKeys[e]=t.__$$nextCompareConnWaKeys[e],t.__$$compareConnWaKeyCount[e]=t.__$$nextCompareConnWaKeyCount[e],t.__$$nextCompareConnWaKeys[e]={},t.__$$nextCompareConnWaKeyCount[e]=0)})}}var ja=function(e){return"CC("+e+")"},La=Pe,Pa=Ne,Fa=je,Va=Ut.runtimeVar,qa=ee,za=te,Ha=function(e){return Error("can not defined setup both in register options and class body --verbose:"+e)};function Ba(e,t){var n=void 0===e?{}:e,r=n.module,o=void 0===r?H:r,a=n.state,u=void 0===a?{}:a,c=n.watchedKeys,s=void 0===c?"-":c,i=n.storedKeys,d=void 0===i?[]:i,f=n.setup,l=void 0===f?null:f,p=n.persistStoredKeys,y=n.connect,_=void 0===y?{}:y,v=n.tag,m=n.lite,h=n.isPropsProxy,C=void 0!==h&&h,K=n.isSingle,g=void 0!==K&&K,S=n.renderKeyClasses,E=n.__checkStartUp,$=void 0===E||E,w=n.compareProps,b=void 0===w||w,x=n.__calledBy;void 0===t&&(t="");try{var U=uo(o,t,S,A,La(s),d,_,$,x),O=U._module,N=U._ccClassKey,D=U._connect;return function(n){if(n.prototype&&n.prototype.$$attach)throw Error("register a cc class is prohibited!");var e=!1===C?n:I.Component,i=e.$$setup,t=function(c){function e(e,t){var n;try{n=c.call(this,e,t)||this;var r=Fa(u),o=Object.assign(n.state||{},r);n.$$attach=n.$$attach.bind(qr(n));var a=Object.assign({},e,{isSingle:g,module:O,tag:v,state:o,type:A,insType:M,watchedKeys:s,ccClassKey:N,connect:D,storedKeys:d,persistStoredKeys:p});if(ta(qr(n),a,m),n.ctx.reactSetState=Wr(qr(n)),n.ctx.reactForceUpdate=kr(qr(n)),l&&(n.$$setup||i))throw Ha("ccUniqueKey "+n.ctx.ccUniqueKey);C||(n.$$setup&&(n.$$setup=n.$$setup.bind(qr(n))),aa(qr(n),l||n.$$setup||i,!1))}catch(e){wn(e)}return n}Vr(e,c);var t=e.prototype;return t.shouldComponentUpdate=function(e,t){var n=this.ctx.childRef;if(n&&n.shouldComponentUpdate)return n.shouldComponentUpdate(e,t);if(c.prototype.shouldComponentUpdate)return c.prototype.shouldComponentUpdate.call(this,e,t);var r=!!b&&Pa(this.props,e);return this.state!==t||r},t.$$attach=function(e){var t=this.ctx;if(((t.childRef=e).ctx=t).reactSetState=e.setState.bind(e),t.reactForceUpdate=e.forceUpdate.bind(e),e.setState=t.setState,e.forceUpdate=t.forceUpdate,t.__$$ccSetState=Dr(e,this),t.__$$ccForceUpdate=Ir(e),e.state||(e.state={}),Object.assign(e.state,this.state),ka(e),e.$$setup&&(e.$$setup=e.$$setup.bind(e)),l&&(e.$$setup||i))throw Ha("ccUniqueKey "+t.ccUniqueKey);aa(e,l||e.$$setup||i,!1)},t.componentDidMount=function(){c.prototype.componentDidMount&&c.prototype.componentDidMount.call(this),ba(this)},t.componentDidUpdate=function(e,t,n){c.prototype.componentDidUpdate&&c.prototype.componentDidUpdate.call(this,e,t,n),xa(this)},t.componentWillUnmount=function(){c.prototype.componentWillUnmount&&c.prototype.componentWillUnmount.call(this),Ra(this)},t.render=function(){return this.ctx.prevProps=this.ctx.props,this.ctx.props=this.props,Va.isDebug&&console.log(za("@@@ render "+ja(N)),qa()),!1===C?(ka(this),c.prototype.render.call(this)):I.createElement(n,{ctx:this.ctx,$$attach:this.$$attach})},e}(e);return t.displayName=N===Y?"CcDispatcher":ja(N),t}}catch(e){wn(e)}}function Ga(e){var t=function(e){function t(){return e.apply(this,arguments)||this}return Vr(t,e),t.prototype.render=function(){return this.props.children||I.createElement("span",{style:{display:"none"}})},t}(I.Component);if(Ut.refs[Y]){if(!Ut.isHotReloadMode())throw Error("CcDispatcher can only be initialize one time");re("hot reload mode, CC_DISPATCHER existed")}var n=e||t;return Ba({isSingle:!0,__checkStartUp:!1,__calledBy:"cc"},Y)(n)}var Ya=be,Xa=pe;function Ja(e,t){if(!Ya(e))throw Error(t+" "+we)}function Za(e){if(0<e.length){var o=Ut.plugins;o.length=0,hn.forEach(function(e){return Cn[e].length=0});var a={};e.forEach(function(e){if(o.push(e),!e.install)throw Error("a plugin must export install handler!");var t=e.install($n),n=Error("plugin.install must return result:{name:string, options?:object}");if(!t)throw n;var r=t.name;if(!r)throw n;if(a[r])throw Error("pluginName["+r+"] duplicate");a[r]=1}),Ut.pluginNameMap=a}}var Qa=function(e){var t=document.querySelector("#"+c);if(!t){(t=document.createElement("div")).id=c;var n=t.style;n.position="fixed",n.left=0,n.top=0,n.display="none",n.zIndex=-888666,document.body.appendChild(t)}r.render(I.createElement(e),t)},ec=!1;function tc(e,r){void 0===e&&(e=!1),ct={},it={},le(Ut.event_handlers_),le(Ut.ccUKey_handlerKeys_);var o=Ut.ccClassKey_ccClassContext_,t=Ut.ccUKey_ref_;if(Object.keys(o).forEach(function(e){var t=o[e],n=[];0<r.length&&t.ccKeys.forEach(function(e){r.includes(e)&&n.push(e)}),le(t.ccKeys,n)}),le(Ut.handlerKey_handler_),le(t,[Y].concat(r)),e){var n=Ut.computed,a=Ut.watch,c=n._computedValue,i=a._watchDep;pe(Ut.store._state).forEach(function(e){e!==B&&(c[e]&&(Ut.computed._computedDep[e]={retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0},pn(e,n._computedRaw[e])),i[e]&&(i[e]={retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0},mn(e,a._watchRaw[e])))})}}function nc(){var r=Ut.ccUKey_ref_,o=[],a=[];return pe(r).forEach(function(e){var t=r[e];if(t&&!0===t.__$$isMounted&&0==t.__$$isUnmounted){var n=t.ctx.insType;n===U?(o.push(e),a.push(e)):n===f&&a.push(e)}}),{ccFragKeys:o,ccNonCusKeys:a}}function rc(){le(Ut.globalStateKeys);var e=pe(Ut.moduleName_isConfigured_).concat([H,B,ye,a]);le(Ut.reducer._reducer,e),le(Ut.store._state,e,{},!0),le(Ut.computed._computedDep,e),le(Ut.computed._computedValue,e),le(Ut.watch._watchDep,e),le(Ut.middlewares),le(Ut.waKey_uKeyMap_),qe={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};var t=nc(),n=t.ccFragKeys;return tc(!1,t.ccNonCusKeys),n}function oc(e){void 0===e&&(e=!1),Ut.info.latestStartupTime=Date.now();var t=[];if(Ut.isStartup){if(Ut.isHotReloadMode()){if(e)return console.warn("attention: make sure [[clearContextIfHot]] been called before app rendered!"),ec=!0,t=rc();if(ec)return ec=!1,t;!function(){if(!Ut.refs[Y]){var e=Ga();Qa(e)}}();var n=nc();return tc(Ut.reComputed,n.ccNonCusKeys),n.ccFragKeys}return console.warn("clear failed because of not running under hot reload mode!"),t}return ec=!0,t}var ac=Ae,cc=je;function ic(e){var t=e.props,n=ac(t.register),r=n.module,o=n.renderKeyClasses,a=n.tag,c=n.lite,i=n.compareProps,u=void 0===i||i,s=n.setup,d=n.bindCtxToMethod,f=n.watchedKeys,l=void 0===f?"-":f,p=n.connect,y=void 0===p?{}:p,_=n.isSingle,v=n.storedKeys,m=void 0===v?[]:v,h=cc(n.state),C=t.ccClassKey,K=t.ccKey,g=t.ccOption,S=void 0===g?{}:g,E=l,$=C,w=y,b=M;if(!0!==t.__$$regDumb){b=U;var x=uo(r,C,o,A,Pe(l),m,y,!0);E=l,$=x._ccClassKey,w=x._connect}ta(e,{isSingle:_,ccKey:K,connect:w,state:h,module:r,type:A,insType:b,storedKeys:m,watchedKeys:E,tag:a,ccClassKey:$,ccOption:S},c),e.ctx.reactSetState=Wr(e),e.ctx.reactForceUpdate=kr(e),e.__$$compareProps=u,aa(e,s,d)}var uc=re,sc=Oe,dc="";function fc(e,t){var n=void 0===e?{}:e,r=n.store,o=void 0===r?{}:r,a=n.reducer,c=void 0===a?{}:a,i=n.init,u=void 0===i?null:i,s=n.initPost,d=void 0===s?{}:s,f=n.computed,l=void 0===f?{}:f,p=n.watch,y=void 0===p?{}:p,_=n.moduleSingleClass,v=void 0===_?{}:_,m=void 0===t?{}:t,h=m.plugins,C=void 0===h?[]:h,K=m.middlewares,g=void 0===K?[]:K,S=m.isStrict,E=void 0!==S&&S,$=m.isDebug,w=void 0!==$&&$,b=m.errorHandler,x=void 0===b?null:b,U=m.isHot,O=m.bindCtxToMethod,N=void 0!==O&&O,D=m.objectValueCompare,I=void 0!==D&&D,A=m.computedCompare,M=void 0===A||A,T=m.watchCompare,R=void 0===T||T,W=m.watchImmediate,k=void 0!==W&&W,j=m.reComputed,L=void 0===j||j;try{throw Error()}catch(e){var P=function(e){function t(e,t){for(var n=0;n<o;n++)if(r[n].includes(e)){a=r[n+t];break}}var n=Ut.info,r=e.stack.split("\n"),o=r.length,a="";function c(){return oc(Ut.isHot=!0)}t("startup",2),a||t("runConcent",0);var i=Date.now(),u=[],s=!0;if(dc)if(dc!==a){var d="invalid run api call!(it can only be called once, changing 'call run' line location in HMR will cause this error also, \n    try refresh browser to reload your app to avoid this tip)";if(i-n.latestStartupTime<1e3)throw Error(d);We()?(u=c(),dc=a):(oe(d),s=!1)}else u=c();else dc=a,n.firstStartupTime=i,n.latestStartupTime=i;return{canStartup:s,ccFragKeys:u}}(e),F=P.ccFragKeys;if(!P.canStartup)return;try{console.log("%c window.name:"+window.name,"color:green;border:1px solid green"),uc("cc version "+Ut.info.version),void 0!==U&&(Ut.isHot=U),Ut.reComputed=L,Ut.errorHandler=x;var V=Ut.runtimeVar;if(V.isStrict=E,V.isDebug=w,V.objectValueCompare=I,V.computedCompare=M,V.watchCompare=R,V.watchImmediate=k,V.bindCtxToMethod=N,!Ut.refs[Y]){var q=Ga();Qa(q)}Ut.permanentDispatcher=Ut.refs[Y],function(e){if(!Ya(e))throw Error("StartupOption.moduleSingleClass "+we);se(Ut.moduleSingleClass,e)}(v),function(e){Ja(e,"state"),delete e[G],delete e[B],void 0===e[ye]&&(e[ye]={}),void 0===e[H]&&(e[H]={});for(var t=Xa(e),n=t.length,r=0;r<n;r++){var o=t[r];zt(o,e[o])}}(o),function(t){Ja(t,"reducer"),void 0===t[H]&&(t[H]={}),void 0===t[ye]&&(t[ye]={}),Xa(t).forEach(function(e){return Zt(e,t[e])})}(c),function(t){Ja(t,"computed"),Xa(t).forEach(function(e){return pn(e,t[e])})}(l),function(t){Ja(t,"watch"),Object.keys(t).forEach(function(e){return mn(e,t[e])})}(y),function(n,r){if(n){if(!Ya(n))throw Error("init "+we);Xa(n).forEach(function(t){jt(t,!1);var e=n[t];e&&Promise.resolve().then(e).then(function(e){Rr(t,r[t])(e)})}),Ut.init._init=n}}(u,d),function(e){if(0<e.length){var t=Ut.middlewares;t.length=0,e.forEach(function(e){return t.push(e)})}}(g);var z=function(e){sc("CC_CONTEXT",Ut,e),sc("ccc",Ut,e),sc("cccc",Ut.computed._computedValue,e),sc("sss",Ut.store._state,e)};window.mcc?setTimeout(function(){z(window.mcc[Te()])},1200):z(),Ut.isStartup=!0,Za(C),F.forEach(function(e){var t=Ut.ccUKey_ref_[e];Ra(t),ic(t),ba(t)})}catch(e){if(!x)throw e;x(e)}}}function lc(e){throw Error("[[run]]: param error, "+e+" "+we)}var pc=be,yc=pe,_c=z,vc=je;function mc(e,t){var n=Ae(e);return delete n.__checkStartUp,delete n.__calledBy,Ba(n,t)}var hc=Ne,Cc=I.createElement("span",{style:{display:"none"}}),Kc=function(r){function e(e,t){var n;return ic(qr(n=r.call(this,e,t)||this)),n}Vr(e,r);var t=e.prototype;return t.componentDidMount=function(){ba(this)},t.shouldComponentUpdate=function(e,t){var n=!!this.__$$compareProps&&hc(Uo(e),Uo(this.props));return this.state!==t||n},t.componentDidUpdate=function(){xa(this)},t.componentWillUnmount=function(){r.prototype.componentWillUnmount&&r.prototype.componentWillUnmount.call(this),Ra(this)},t.render=function(){var e=this.props;this.ctx.prevProps=this.ctx.props,this.ctx.props=Uo(e);var t=e.render,n=t||e.children;if("function"==typeof n){ka(this);var r=e.register,o=void 0===r?{}:r,a=this.ctx;return!0!==e.__$$regDumb&&o.mapProps?(a.mapped=o.mapProps(a)||{},n(a.mapped)||Cc):n(a)||Cc}if(I.isValidElement(n))throw Error("CcFragment's children can not b a react dom ");return n},e}(I.Component);function gc(e,t){var n=Ae(e),r=n.renderKeyClasses,o=n.module,a=n.watchedKeys,c=void 0===a?"-":a,i=n.storedKeys,u=n.render,s=n.connect,d=void 0===s?{}:s,f=Pe(c),l=uo(o,t,r,U,f,i,d,!0),p=l._ccClassKey,y=l._connect;function _(t){return function(e){return n.props=e,function(t,e){var n=e.mapProps,r=e.props,o=void 0===r?{}:r,a={__$$regDumb:!0,props:o,ccOption:o.ccOption,ccClassKey:e.ccClassKey,render:function(e){return n?(e.mapped=n(e),I.createElement(t,e.mapped)):I.createElement(t,e)},ccKey:o.ccKey,register:e};return I.createElement(Kc,a)}(t,n)}}return n.module=l._module,n.watchedKeys=c,n.ccClassKey=p,n.connect=y,u?_(u):function(e){return _(e)}}var Sc=Ut.ccUKey_ref_,Ec=1;function $c(e,t,n){this.setState=t,this.forceUpdate=t,this.state=e,this.isFirstRendered=!0,this.props=n}function wc(e,t,n,r,o,a,c,i,u,s,d){var f=r||je(o),l=a.bindCtxToMethod,p=a.watchedKeys,y=void 0===p?"-":p,_=a.storedKeys,v=void 0===_?[]:_,m=a.connect,h=void 0===m?{}:m,C=a.setup,K=a.lite;Ec+=1;var g=uo(a.module,d,a.renderKeyClasses,_e,Pe(y),v,h,!0),S=g._module,E=g._ccClassKey,$=g._connect,w=e||new $c(c,i,u),b=Object.assign({},a,{module:S,watchedKeys:y,state:f,type:_e,insType:t,ccClassKey:E,connect:$,ccOption:u.ccOption});w.props=u,ta(w,b,K),w.ctx.reactSetState=Wr(w),w.ctx.reactForceUpdate=kr(w);var x=w.ctx;return x.props=u,x.extra=s,aa(w,C,l),n.prevCcUKey=n.ccUKey,n.ccUKey=w.ctx.ccUniqueKey,x.useRef=function(e){var t=I.useRef(null);return x.refs[e]=t},w}function bc(e){return e?Array.isArray(e)?e.join(","):"object"==typeof e?JSON.stringify(e):e:""}var xc="react version is LTE 16.8",Uc=function(e,t){return e.module!==t.module||bc(e.connect)!==bc(t.connect)};function Oc(e,t,n){void 0===e&&(e={});var r=I.useRef({prevCcUKey:null,ccUKey:null,regOpt:e}).current,o=Ae(e),a=o.state,c=void 0===a?{}:a,i=o.props,u=void 0===i?{}:i,s=o.mapProps,d=o.layoutEffect,f=void 0!==d&&d,l=o.extra,p=void 0===l?{}:l,y=I.useState;if(!y)throw Error(xc);function _(e){return wc(e,n,r,C,c,o,g,S,u,p,t)}var v,m=Ec,h=y(m)[0]===m,C=h?je(c):0,K=y(C),g=K[0],S=K[1];if(h||Uc(r.regOpt,e))r.regOpt=e,v=_();else if(v=Sc[r.ccUKey]){var E=v.ctx;E.prevProps=E.props,v.props=E.props=u,E.extra=p}else v=_();var $=v.ctx,w=f?I.useLayoutEffect:I.useEffect;if(w(function(){return function(){var e=Sc[r.prevCcUKey||r.ccUKey];e&&(r.prevCcUKey=null,Ra(e))}},[v]),w(function(){!function(e,t){e.__boundSetState=t,e.__boundForceUpdate=t}($,S),v.isFirstRendered?(v.isFirstRendered=!1,ba(v)):xa(v)}),ka(v),s){var b=s($);if(!be(b))throw Error("mapProps ret "+we);$.mapped=b}return $}function Nc(e,t){return Oc(e,t,M)}function Dc(){throw Error("api doc: cc.setState(module:string, state:object, renderKey:string, delayMs?:number, skipMiddleware?:boolean, throwError?:boolean)")}function Ic(e){return Ut.store.getState(e)}var Ac=Ut.store.getGlobalState,Mc=Ut.computed._computedValue;var Tc=Ut.ccUKey_ref_,Rc=Ut.ccClassKey_ccClassContext_;function Wc(){var n=[],r=Ut.ccUKey_ref_;return pe(r).forEach(function(e){var t=r[e];t&&!t.__$$isUnmounted&&n.push(t)}),n}function kc(){return"Ob view"}function jc(e,t,n){var r=void 0===n?{}:n,o=r.state,a=r.reducer,c=r.computed,i=r.watch,u=r.init;if(!Ut.isStartup)throw Error("cc is not startup yet");kt(e),jt(t,!1);var s=Ut.moduleName_stateFn_[t];if(!s)throw Error("target module["+t+"] state must be a function when use cloneModule");var d=s();Object.assign(d,je(o));var f=Fr(Ut.reducer._reducer[t]||{},e);a&&Object.assign(f,Fr(a,e));var l=Ut.computed._computedRaw[t]||{};c&&Object.assign(l,c);var p=Ut.watch._watchRaw[t]||{};i&&Object.assign(p,i);var y=Ut.init._init[t];u&&(y=u);var _={state:d,reducer:f,computed:l,watch:p};y&&(_.init=y),Pr(e,_)}function Lc(t,e){function r(e,t){var n=t.state,r=t.reducer,o=void 0===r?{}:r,a=t.watch,c=t.computed,i=t.init,u=t.initPost,s=t.isClassSingle;if(d.store[e])throw Error("run api error: module"+e+" duplicate");d.store[e]=vc(n),"function"==typeof n&&(Ut.moduleName_stateFn_[e]=n),d.reducer[e]=o,a&&(d.watch[e]=a),c&&(d.computed[e]=c),i&&(d.init[e]=i),u&&(d.initPost[e]=u),d.moduleSingleClass[e]=!0===s}void 0===t&&(t={}),void 0===e&&(e={}),pc(t)||lc("store"),pc(e)||lc("options");var d={store:{},reducer:{},watch:{},computed:{},init:{},initPost:{},moduleSingleClass:{}};yc(t).forEach(function(e){return r(e,t[e])}),At.forEach(function(e){var t=e.module,n=e.config;re("configure pending module["+t+"]"),r(t,n)}),At.length=0,_c(d.init)&&(d.init=null),fc(d,e)}function Pc(e,t){return mc({connect:e},t)}function Fc(e,t){return gc({connect:e},t)}function Vc(e,o){var a=Ae(e);function t(n){var e=a.memo,t=void 0===e||e;function r(){return function(e){a.props=e;var t=Nc(a,o);return I.createElement(n,a.mapProps?t.mapped:t)}}return delete a.memo,t&&I.memo?I.memo(r()):r()}"function"==typeof a.state&&(a.state=a.state());var n=a.render;return n?t(n):function(e){return t(e)}}function qc(e,t,n,r,o){void 0===o&&(o=!1);try{Ht().ctx.setGlobalState(e,t,n,r)}catch(e){if(o)throw e;xe(e.message)}}function zc(e,t,n,r,o,a){void 0===r&&(r=-1),void 0===a&&(a=!1),void 0===e&&void 0===t&&Dc(),"string"!=typeof e&&Dc(),yr(e,t,n,r,o)}function Hc(e,t,n,r){Ht().ctx.set(e,t,n,r)}function Bc(e,t){if(!e.includes("/"))throw Error("keyPath must start with module");var n=e.split("/"),r=Ic(n[0]);return Do(e,t,!1,r,!1).state}function Gc(e){return oi[e].connectedState||{}}function Yc(e){return e?Mc[e]:Mc}function Xc(e){if(void 0===e)throw Error("api doc: cc.emit(event:string|{name:string, identity?:string, ctx?:boolean}, ...args)");try{for(var t,n=Ht(),r=arguments.length,o=Array(1<r?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];(t=n.ctx).emit.apply(t,[e].concat(o))}catch(e){xe(e)}}function Jc(e,t){try{Ht().ctx.off(e,t)}catch(e){if(t.throwError)throw e;xe(e.message)}}function Zc(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(function(e){var n=[],t=Rc[e];return t&&t.ccKeys.forEach(function(e){var t=Tc[e];t&&n.push(t)}),n})(e).forEach(function(e){var t;e.__$$isUnmounted||e.ctx.execute&&(t=e.ctx).execute.apply(t,n)})}function Qc(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];Wc().forEach(function(e){var t;e.ctx.execute&&(t=e.ctx).execute.apply(t,n)})}function ei(e,t){return Ve(e,t)}function ti(e,t){var n=Ve(e,t);return n.lazy=!0,n}function ni(e){return{fn:function(){return e},depKeys:[]}}function ri(e,t){return Ve(e,t)}var oi=Ut.ccClassKey_ccClassContext_,ai=Ut.store.appendState,ci=Ut.reducer._caller,ii=I.memo(function(e){var t=e.module,n=e.connect,r=e.classKey,o=e.render,a=e.children;if(t&&n)throw Error("module, connect can not been supplied both");if(!t&&!n)throw Error("module or connect should been supplied");var c=o||a||kc,i=t?{module:t}:{connect:n};i.lite=1;var u,s,d=function(e,t){return Oc(e,t,f)}(i,r);return s=t?(u=d.moduleState,d.moduleComputed):(u=d.connectedState,d.connectedComputed),c([u,s,{mr:d.mr,cr:d.cr,r:d.r}])}),ui=mc,si=gc,di=Pr,fi=Ic,li=Ac,pi=Jt,yi=Ut,_i=Ga,vi=Wc,mi=ci,hi=oc,Ci=Kc,Ki=ii,gi=s,Si=ai,Ei=Nc,$i={cloneModule:jc,emit:Xc,off:Jc,connect:Pc,connectDumb:Fc,register:ui,registerDumb:si,registerHookComp:Vc,configure:di,dispatch:pi,run:Lc,setGlobalState:qc,setState:zc,set:Hc,setValue:Bc,getGlobalState:li,getState:fi,getComputed:Yc,getConnectedState:Gc,ccContext:yi,createDispatcher:_i,execute:Zc,executeAll:Qc,getRefs:vi,reducer:mi,clearContextIfHot:hi,CcFragment:Ci,Ob:Ki,cst:gi,appendState:Si,useConcent:Ei,bindCcToMcc:wi,defComputed:ei,defLazyComputed:ti,defComputedVal:ni,defWatch:ri};function wi(e){if(!xi)throw Error("current env is not multi concent ins mode");if(xi[e])throw Error("ccNamespace["+e+"] already existed in window.mcc");!function(e){Me=e}(e),Oe(e,$i,xi)}function bi(){var e=Me?window.mcc[Me]:window.cc;if(e&&e.ccContext&&e.ccContext.info){var t=e.ccContext.info.version,n=yi.info.version;if(t!==n)throw Error("a existed version concent "+t+" is different with current about to import concent "+n+", \n        it may caused by some of your concent-eco-module with older version concent, please reinstall them (concent-*** module)")}}var xi=window.mcc;xi?setTimeout(function(){if(!Te())throw Error("detect window.mcc, but user forget call bindCcToMcc in bundle entry");bi()},1e3):(bi(),Oe("cc",$i)),e.cloneModule=jc,e.run=Lc,e.connect=Pc,e.connectDumb=Fc,e.register=ui,e.registerDumb=si,e.registerHookComp=Vc,e.configure=di,e.setGlobalState=qc,e.setState=zc,e.set=Hc,e.setValue=Bc,e.getState=fi,e.getGlobalState=li,e.getConnectedState=Gc,e.getComputed=Yc,e.emit=Xc,e.off=Jc,e.dispatch=pi,e.ccContext=yi,e.createDispatcher=_i,e.execute=Zc,e.executeAll=Qc,e.getRefs=vi,e.reducer=mi,e.clearContextIfHot=hi,e.CcFragment=Ci,e.Ob=Ki,e.cst=gi,e.appendState=Si,e.useConcent=Ei,e.defComputed=ei,e.defLazyComputed=ti,e.defComputedVal=ni,e.defWatch=ri,e.bindCcToMcc=wi,e.default=$i,Object.defineProperty(e,"__esModule",{value:!0})});
