!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t(e.concent={},e.React,e.ReactDOM)}(this,function(e,I,r){"use strict";I=I&&I.hasOwnProperty("default")?I.default:I,r=r&&r.hasOwnProperty("default")?r.default:r;var t,n,o,R={$$default:[]},ye="$$global",H="$$default",B="$$cc",G="$$concent_void_module_624313307",a="$$CONCENT_ROUTER",A="$$CcClass",_e="$$CcHook",O="$$CcFrag",f="$$CcOb",M="$$CcCust",h="$$Cc",Y="$$Dispatcher",c="__cc_dispatcher_container_designed_by_zzk_qq_is_624313307__",ve=Symbol("__for_sync_param_ccsync__"),U=10,N=11,D=13,T="dispatch",me="setState",he="setModuleState",Ce="forceUpdate",w="invoke",K="sync",W="module",Ke="ref",ge="computed",Se="watch",$e={CC_MODULE_NAME_DUPLICATE:1002,CC_MODULE_NOT_FOUND:1012,CC_DISPATCH_STRING_INVALID:1013,CC_DISPATCH_PARAM_INVALID:1014,CC_MODULE_NOT_CONNECTED:1015,CC_CLASS_KEY_DUPLICATE:1100,CC_CLASS_INSTANCE_KEY_DUPLICATE:1200,CC_CLASS_INSTANCE_MORE_THAN_ONE:1205,CC_STORED_KEYS_NEED_CCKEY:1207,CC_REDUCER_NOT_A_FUNCTION:1503},i=((t={})[$e.CC_MODULE_NAME_DUPLICATE]="module name duplicate!",t[$e.CC_MODULE_NOT_FOUND]="module not found!",t[$e.CC_DISPATCH_STRING_INVALID]="when type param is string, it must be one of these format: (fnName)„ÄÅ(moduleName)/(fnName)",t[$e.CC_DISPATCH_PARAM_INVALID]="dispatch param type is invalid, it must be string or object",t[$e.CC_MODULE_NOT_CONNECTED]="module not been connected by ref",t[$e.CC_CLASS_INSTANCE_KEY_DUPLICATE]="props.ccKey duplicate",t[$e.CC_CLASS_INSTANCE_MORE_THAN_ONE]="ccClass is declared as singleton, trying new another one instance is not allowed! ",t[$e.CC_STORED_KEYS_NEED_CCKEY]="you must explicitly specify a ccKey for ccInstance when set storedKeys!",t[$e.CC_CLASS_KEY_DUPLICATE]="ccClassKey duplicate!",t[$e.CC_REDUCER_NOT_A_FUNCTION]="reducer must be a function!",t),u=Object.freeze({MODULE_GLOBAL:ye,MODULE_DEFAULT:H,MODULE_CC:B,MODULE_VOID:G,MODULE_CC_ROUTER:a,CC_CLASS:A,CC_HOOK:_e,CC_FRAGMENT:O,CC_OB:f,CC_CUSTOMIZE:M,CC_PREFIX:h,CC_DISPATCHER:Y,CC_DISPATCHER_BOX:c,CCSYNC_KEY:ve,SIG_FN_START:U,SIG_FN_END:N,SIG_FN_QUIT:12,SIG_FN_ERR:D,SIG_MODULE_CONFIGURED:14,SIG_STATE_CHANGED:15,RENDER_NO_OP:1,RENDER_BY_KEY:2,RENDER_BY_STATE:3,FOR_ONE_INS_FIRSTLY:1,FOR_ALL_INS_OF_A_MOD:2,DISPATCH:T,SET_STATE:me,SET_MODULE_STATE:he,FORCE_UPDATE:Ce,INVOKE:w,SYNC:K,CATE_MODULE:W,CATE_REF:Ke,FN_CU:ge,FN_WATCH:Se,ERR:$e,ERR_MESSAGE:i}),s=((n={})[ye]={},n[H]={},n[B]={},n),d=((o={})[ye]={},o[H]={},o[B]={},o),l={},p={},k={_computedValueOri:d,_computedValue:s,_computedRaw:p,_computedDep:l,getRootComputedValue:function(){return s},getRootComputedDep:function(){return l},getRootComputedRaw:function(){return p}},y={},_={},C={_watchRaw:_,_watchDep:y,getRootWatchDep:function(){return y},getRootWatchRaw:function(){return _}},v={isStrict:!1,isDebug:!1,objectValueCompare:!1,computedCompare:!0,watchCompare:!0,watchImmediate:!1,bindCtxToMethod:!1},m={},g={};function S(t,n,r){try{t[n][r]=1}catch(e){var o={};o[r]=1,t[n]=o}}function j(e,t){return e+"/"+t}function $(e,t){S(m,e,t)}function E(e,t,n){!function(e,t){try{delete m[e][t]}catch(e){}}(j(e,t),n)}var b=Symbol("cuk"),x="1",Ee="2",L="function",we="is not a plain json object!",P="should be an string array or *!",F=console.error;function V(e){return null!=e&&0<le(e).length}function z(e){return!V(e)}function be(e,t){if(void 0===t&&(t=!1),!e)return!1;var n="object"==typeof e;if(n){var r=Array.isArray(e);return t?r:n&&!r}return!1}function q(e,t){var n="";n="string"==typeof e?e:i[e]||"",t&&(n+=t),n||(n="undefined message for code:"+e);var r=Error(n);return r.code=e,r}function X(e,t,n,r,o,a,c){var i;return(i={})[b]=1,i.needCompute=n,i.fn=r,i.newState=o,i.oldState=a,i.fnCtx=c,i.isLazy=e,i.result=t,i}function J(e,t){return e+"$"+t}function Z(e){return e?" --verbose-info: "+e:""}function Q(e){return void 0===e&&(e="green"),"color:"+e+";border:1px solid "+e}function ee(e){return"%c"+e}var te=function(e){return"------------ CC "+e+" ------------"};function xe(e){F(te("WARNING")),e instanceof Error?(F(e.message),F(e.stack)):F(e)}function ne(e){console.log(te("TIP")),console.log("%c"+e,"color:green;border:1px solid green;")}function re(e){if(F(te("WARNING")),F(e),v.isStrict)throw e}function oe(e,t,n){void 0===n&&(n={});var r=e[t];return r||(r=e[t]=n),r}function ae(e,t){return oe(e,t,[])}function ce(e,t){e.includes(t)||e.push(t)}function ie(e,t,n){ce(ae(e,t),n)}function ue(t,n){Object.keys(n).forEach(function(e){t[e]=n[e]})}function se(e,t,n){var r=e[t];r||(r=e[t]={}),ue(r,n)}function de(e){void 0===e&&(e=52);var t=Math.random();return parseInt(t*e)}function fe(n,r,o,a){if(void 0===r&&(r=[]),void 0===a&&(a=!1),Array.isArray(n)){var t=[];r.forEach(function(e){n.includes(e)&&t.push(e)}),n.length=0,t.forEach(function(e){return n.push(e)})}else Object.keys(n).forEach(function(e){if(r.includes(e));else{var t=n[e];a&&t?le(t).forEach(function(e){return delete t[e]}):o?n[e]=o:delete n[e]}})}function le(e){return Object.keys(e)}function pe(e){var t=null;return e&&(e.currentTarget&&e.type?t=e:e.nativeEvent&&e.target&&(e.currentTarget=e.target,t=e)),t}function Oe(t,n,e){function r(e){e?e[t]=n:window[t]=n}window?r(e):setTimeout(function(){r(e)},3e3)}function Ue(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function Ne(o,a,c){var i={},u=!1;if(a){var s=v.objectValueCompare;le(a).forEach(function(e){var t=o[e],n=a[e],r=!0;"object"!=typeof n?r=t!==n:s&&(r=t!==n),r&&(c&&(c.prevStateContainer[e]=t,c.incStateVer(e),o[e]=n),i[e]=n,u=!0)})}return u?i:null}function De(e,t){var n=[];return e.forEach(function(e){t.includes(e)||n.push(e)}),n}function Ie(e){return void 0===e&&(e={}),"string"==typeof e?{module:e}:Object.assign({module:H},e)}var Ae="";function Me(){return Ae}function Te(){var t=null;return{commit:function(e){t||(t={}),Object.assign(t,e)},clear:function(){return t=null},getFnCommittedState:function(){return t}}}function Re(){var e=!1;return!window||("previewFrame"===window.name||window.__SANDBOX_DATA__||window.BrowserFS)&&(e=!0),e}function We(e){return{payload:null,renderKey:"",delay:-1,module:e,fnName:""}}function ke(e){void 0===e&&(e={});var t="function"==typeof e?e():e;if(!be(t))throw Error("state "+we);return t}function je(e,t){var n=t.split(".");return function e(t,n,r,o){var a=n[o];return r===o?t[a]:e(t[a],n,r,++o)}(e,n,n.length-1,0)}function Le(e){return"-"===e?"*":e}function Pe(e){return Array.isArray(e)||"-"===e||"*"===e}function Fe(e,t,n){void 0===n&&(n=!0);var r=t||{},o={fn:e},a=Pe(r)?{depKeys:r}:r;return n&&function(e){if(e&&!Pe(e))throw Error("depKeys must an array , '*' or '-'")}(a.depKeys),Object.assign(o,a)}var Ve={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};function ze(e,t,n){var r=t[e];return{retKey:e,fn:r.fn,depKeys:r.depKeys,isLazy:n,sort:r.sort}}var qe=function(e,t){return e.sort-t.sort};function He(e,t,n,r,o,a,c,i){var u=r[o],s=[];if(!u)return{pickedFns:s,setted:[],changed:[]};var d=u.retKey_fn_,f=u.retKey_lazy_,l=u.stateKey_retKeys_,p=u.fnCount;if(e){var y=le(d),_=le(c),v=_;return"computed"===n?{pickedFns:y.map(function(e){return ze(e,d,f[e])}).sort(qe),setted:_,changed:v}:(y.forEach(function(e){var t=d[e];t.immediate&&s.push({retKey:e,fn:t.fn,depKeys:t.depKeys,sort:t.sort})}),s.sort(qe),{pickedFns:s,setted:_,changed:v})}var m=function(n,r){var o=[],a=[];return le(r).forEach(function(e){var t=r[e];void 0!==t&&(a.push(e),t!==n[e]&&o.push(e))}),{changed:o,setted:a}}(a,c),h=m.setted,C=m.changed;if(0===h.length)return{pickedFns:s,setted:[],changed:[]};var K=h.join(",")+"|"+C.join(",")+"|"+o,g=Ve[t][n],S=i?oe(g,i):g,$=S[K];return $?{pickedFns:$.map(function(e){return ze(e,d,f[e])}),setted:h,changed:C}:(function(s,o,d,f,a,l,c){if(0===o.length)return;var e=a["*"];if(e){var i=0<d.length;e.forEach(function(e){var t=f[e],n=t.fn,r=t.compare,o=t.depKeys,a=t.sort,c={retKey:e,fn:n,depKeys:o,isLazy:l[e],sort:a};r?i&&s.push(c):s.push(c)})}s.length<c&&function(){var u={},e=o.length,t=function(e){var i=o[e],t=a[i];return t?(t.forEach(function(e){if(!u[e]){var t=f[e],n=t.fn,r=t.compare,o=t.depKeys,a=t.sort,c=!0;r&&!d.includes(i)&&(c=!1),c&&(u[e]=!0,s.push({retKey:e,fn:n,depKeys:o,isLazy:l[e],sort:a}))}}),s.length===c?"break":void 0):"continue"};e:for(var n=0;n<e;n++){var r=t(n);switch(r){case"continue":continue;case"break":break e}}}();s.sort(qe)}(s,h,C,d,l,f,p),S[K]=s.map(function(e){return e.retKey}),{pickedFns:s,setted:h,changed:C})}function Be(e,t,n){var r=t[n];return void 0!==r&&(e[n]=r,!0)}function Ge(t,n,e,r){void 0===n&&(n=[]),void 0===e&&(e=!1),void 0===r&&(r=!1);var o={},a=[];if(!be(t))return{partialState:e?null:o,isStateEmpty:!0,ignoredStateKeys:a};var c=!0,i=le(t);return i.length<n.length?i.forEach(function(e){n.includes(e)?Be(o,t,e)&&(c=!1):r&&a.push(e)}):(n.forEach(function(e){Be(o,t,e)&&(c=!1)}),r&&(a=De(i,n))),c&&e&&(o=null),{partialState:o,isStateEmpty:c,ignoredStateKeys:a}}function Ye(e,n){return new Proxy(e,{get:function(e,t){return n.includes(t)||n.push(t),e[t]},set:function(){return!0}})}function Xe(e,t,n,r){var o=e.ctx;if(!0===o.__$$inBM||o.__$$renderStatus===x){var a=o.ccUniqueKey;if(r){var c=o.module;if(!R[c].includes(n))return;var i=j(c,n);if(!0===o.__$$inBM)return void(o.__$$staticWaKeys[i]=1);if("-"!==o.watchedKeys)return;var u=o.__$$curWaKeys,s=o.__$$compareWaKeys,d=o.__$$nextCompareWaKeys;$(i,a),s[n]=u[n]=1,d[n]||(d[n]=2,o.__$$nextCompareWaKeyCount++)}else{var f=j(t,n);if(!0===o.__$$inBM)return void(o.__$$staticWaKeys[f]=1);if("-"!==o.connect[t])return;var l=o.__$$curConnWaKeys,p=o.__$$compareConnWaKeys,y=o.__$$nextCompareConnWaKeys,_=o.__$$nextCompareConnWaKeyCount;$(f,a),p[t][n]=l[t][n]=1;var v=y[t];v[n]||(v[n]=2,_[t]++)}}}var Je=Object.prototype.hasOwnProperty,Ze=k._computedValueOri,Qe=k._computedValue,et=k._computedDep;function tt(e,t,n,r,o){(e.retKey_stateKeys_[r]||[]).forEach(function(e){Xe(t,n,e,o)})}function nt(r,o,a,c){void 0===a&&(a=!0),void 0===c&&(c=!1);var i=c?r.ctx.refComputedOri:Ze[o],u=c?r.ctx.refComputedValue:Qe[o];return i?new Proxy(i,{get:function(e,t){if(Je.call(i,t))if(c){var n=r.ctx.computedDep;Object.keys(n).forEach(function(e){tt(n[e],r,e,t,a)})}else tt(et[o],r,o,t,a);return u[t]},set:function(e,t,n){return e[t]=n,!0}}):{}}var rt,ot=function(e){return xe(e+" call commit or commitCu as it is lazy")},at={},ct={};function it(e,t,n){return e==W?oe(at,t):oe(ct,n)}function ut(e,t,n,r,o,a,c){if(void 0===c&&(c=!0),0!==a.length){var i,u;if(t===Ke){var s=e.computedDep,d=n===ge?s:e.watchDep;u=oe(s,r),i=oe(d,r)}else{var f=k._computedDep,l=n===ge?f:C._watchDep;u=oe(f,r),i=oe(l,r)}var p=oe(i,"stateKey_retKeys_"),y=oe(i,"retKey_stateKeys_"),_=function(e){var n=ae(y,o);e.forEach(function(e){var t=ae(p,e);Array.isArray(t)&&!t.includes(o)&&t.push(o),n.includes(e)||n.push(e)})};c?_(a):a.forEach(function(e){var t=oe(u,"retKey_stateKeys_");_(t[e]||[])})}}function st(e,t,n){return t===Ke?e.computedRetKeyFns:(k._computedDep[n]||{}).retKey_fn_||{}}function dt(d,$,E,w,f,e,b,l,x,O,U,N,D){void 0===d&&(d={});for(var I=d.ctx,A=I?I.ccUniqueKey:"",p=0,M=e,T=!0,y=!1,t=function(){var v=1===++p&&O,e=f(M,v),t=e.pickedFns,m=e.setted,h=e.changed;if(!t.length)return"break";var n=Te(),C=n.commit,r=n.getFnCommittedState,o=Te(),K=o.commit,g=o.getFnCommittedState,S=o.clear;if(t.forEach(function(e){var n=e.retKey,t=e.fn,r=e.isLazy,o=N+" "+U+" retKey["+n+"] can't",a={retKey:n,callInfo:x,isFirstCall:O,commit:C,commitCu:K,setted:m,changed:h,cuVal:D,stateModule:$,refModule:E,oldState:w,committedState:M,refCtx:I},c=v&&"-"===e.depKeys,i=[],u=[];if(c&&(a.cuVal=function(n,r,o,e,t,a){var c,i;return i=W===r?(c=Ze[e],Qe[e]):(c=t.refComputedOri,t.refComputedValue),new Proxy(c,{get:function(e,t){return Je.call(c,t)?a.push(t):xe(r+" "+o+" retKey["+n+"] get cuVal invalid retKey["+t+"]"),i[t]},set:function(){return!0}})}(n,N,U,$,I,i)),U===ge)if(r&&(a.commit=function(){return ot(o)},a.commitCu=a.commit),c){var s=Ye(b,u),d=t(s,s,a);D[n]=X(!1,d),ut(I,N,ge,$,n,u),ut(I,N,ge,$,n,i,!1),function(e,t,n,r,o,a){var c=it(e,o,a),i=st(n,o,a),u=ae(c,e);t.forEach(function(e){i[e].isStatic?u.push(e):ae(c,e).forEach(function(e){return ce(u,e)})})}(n,i,I,0,N,$)}else if(r)D[n]=X(r,null,!0,t,b,w,a);else{var f=t(b,w,a);D[n]=X(!1,f)}else{var l=b,p=w;c&&(p=l=Ye(b,u)),!1===t(l,p,a)&&(T=!1),c&&(ut(I,N,Se,$,n,u),ut(I,N,Se,$,n,i,!1))}c&&N===Ke&&u.forEach(function(e){return I.__$$staticWaKeys[j($,e)]=1});var y=g();if(y){var _=st(I,N,$);le(y).forEach(function(e){var t=_[e];t?t.isStatic?function(e,t,n,r){return ae(it(t,n,r),e)}(e,N,$,A).includes(e)?xe("commitCu:"+o+" change ["+e+"], ["+n+"] referred ["+e+"]"):D[e]=X(!1,y[e]):xe("commitCu:"+o+" change ["+e+"], it must have zero dep keys"):xe("commitCu:"+o+" commit ["+e+"], it is not defined")}),S()}}),M=r()){var a=Ge(M,"ref"===N?I.privStateKeys:R[$],!0),c=a.partialState,i=a.ignoredStateKeys;if(i.length){var u="they are not "+(N===Ke?"private":"module")+", fn is "+N+" "+U;xe("these state keys["+i.join(",")+"] are invalid, "+u)}if(c&&((M=c)&&(Object.assign(b,M),Object.assign(l,M),y=!0),U===Se)){var s=function(e,t){return t===Ke?e.computedDep:k._computedDep}(I,N);dt(d,$,E,w,function(e,t){return He(t,N,ge,s,$,w,e,A)},c,b,l,x,!1,ge,N,D)}}2<p&&(xe("fnCtx.commit may goes endless loop, please check your code"),M=null)};M;){if("break"===t())break}return{shouldCurrentRefUpdate:T,hasDelta:y}}for(var ft=k._computedValue,lt=le,pt=Ne,yt={},_t=function(){var e=yt[Y];return e||(e=yt[Y]=xt.permanentDispatcher),e},vt=function(n,e,t){var r=void 0===t?{}:t,o=r.ref,a=void 0===o?null:o,c=r.callInfo,i=void 0===c?{}:c,u=r.noSave,s=void 0!==u&&u,d=ht(n),f=ft[n],l=k.getRootComputedDep(),p=C.getRootWatchDep(),y=a||_t(),_=y.module,v=Object.assign({},d,e),m=Object.assign({},e),h=m;return dt(y,n,_,d,function(e,t){return He(t,W,"computed",l,n,d,e)},h,v,m,i,!1,"computed",W,f),dt(y,n,_,d,function(e,t){return He(t,W,"watch",p,n,d,e)},h,v,m,i,!1,"watch",W,f),s||mt(n,m),m},mt=function(t,e,n){void 0===n&&(n=!1);var r=e;n&&(r=Ge(e,R[t],!0).partialState);var o=ht(t),a=Ct(t);return Kt(t),pt(o,r,{prevStateContainer:a,incStateVer:function(e){return gt(t,e)}})},ht=function(e){return $t[e]},Ct=function(e){return Et[e]},Kt=function(t){try{bt[t]++}catch(e){bt[t]=1}},gt=function(e,t){wt[e][t]++},St=function(){var e;return(e={})[B]={},e[G]={},e[ye]={},e[H]={},e},$t=St(),Et=St(),wt={},bt={},xt={getDispatcher:_t,isHotReloadMode:function(){return!!xt.isHot||window&&(window.webpackHotUpdate||Re())},runtimeVar:v,isHot:!1,reComputed:!0,isStartup:!1,moduleSingleClass:{},moduleName_stateFn_:{},moduleName_ccClassKeys_:{},moduleName_stateKeys_:R,moduleName_isConfigured_:{},ccClassKey_ccClassContext_:{},globalStateKeys:[],store:{appendState:function(e,t){var n=ae(R,e);lt(t).forEach(function(e){n.includes(e)||n.push(e)}),xt.store.setState(e,t)},_state:$t,_prevState:Et,_stateVer:wt,getState:function(e){return e?ht(e):$t},getPrevState:function(e){return e?Ct(e):Et},getStateVer:function(e){return e?wt[e]:wt},getModuleVer:function(e){return e?bt[e]:bt},setState:function(e,t,n){return vt(e,t,n)},setGlobalState:function(e){return vt(ye,e)},saveSharedState:mt,getGlobalState:function(){return $t[ye]}},reducer:{_reducer:(rt={},rt[ye]={},rt[B]={},rt),_caller:{},_fnName_fullFnNames_:{},_module_fnNames_:{}},computed:k,watch:C,refStore:{_state:{},setState:function(e,t){var n=xt.refStore._state,r=Object.assign({},n[e],t);n[e]=r}},init:{_init:{}},ccUKey_ref_:yt,event_handlers_:{},ccUKey_handlerKeys_:{},handlerKey_handler_:{},waKey_uKeyMap_:m,waKey_staticUKeyMap_:g,refs:yt,info:{packageLoadTime:Date.now(),firstStartupTime:"",latestStartupTime:"",version:"2.4.22",author:"fantasticsoul",emails:["624313307@qq.com","zhongzhengkai@gmail.com"],tag:"yuna"},fragmentNameCount:0,featureStr_classKey_:{},userClassKey_featureStr_:{},errorHandler:null,middlewares:[],plugins:[],pluginNameMap:{},permanentDispatcher:null},Ot=localStorage.length,Ut=xt.refStore._state,Nt=0;Nt<Ot;Nt++){var Dt=localStorage.key(Nt);if(Dt.startsWith("CCSS_"))try{Ut[Dt.substr(5)]=JSON.parse(localStorage.getItem(Dt))}catch(e){console.error(e)}}var It=[],At=function(e){return e.toLowerCase()===B},Mt=function(e){return/^[\$\#\&a-zA-Z0-9_-]+$/.test(e)},Tt=Z,Rt=q;function Wt(e){if(!Mt(e))throw Error("module["+e+"] writing is invalid!");if(At(e))throw Error("'$$cc' is a built-in module name for concent")}function kt(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="");var r=n||"module["+e+"]",o=xt.store._state;if(Wt(e),e!==ye)if(t){if(V(o[e]))throw Rt($e.CC_MODULE_NAME_DUPLICATE,Tt(r))}else if(!o[e])throw Rt($e.CC_MODULE_NOT_FOUND,Tt(r))}function jt(t,e){var n=Array.isArray(e);if(!n&&"*"!==e)throw Error("storedKeys type err, "+P);n&&e.forEach(function(e){if(t.includes(e))throw Error("the item["+e+"] of storedKeys is not a module state key!")})}var Lt={},Pt=function(e,t,n){if(e.code!==$e.CC_MODULE_NAME_DUPLICATE||!xt.isHotReloadMode())throw e;var r=function(e){e||(e="");for(var t=e.split("\n"),n=t.length,o="",a=0;a<n;a++)if(t[a].includes(".checkModuleNameAndState")){!function(){var e=t[a+3].split(":"),n=e.length-1,r=[];e.forEach(function(e,t){t!==n&&r.push(e)}),o=r.join(":")}();break}return o}(e.stack),o=n+"|--link--|"+t,a=Lt[o];if(a){if(r!==a)throw e}else Lt[o]=r},Ft={};function Vt(e){Ft[e]={}}function zt(t,e,n){void 0===n&&(n=!0),Vt(t);var r=t===G?{}:e;try{!function(e,t,n){if(kt(e,n),!be(t))throw Error("module["+e+"]'s state "+we)}(t,r,n)}catch(e){Pt(e,t,"state")}var o=xt.store,a=o.getState(),c=o.getStateVer(),i=o.getModuleVer(),u=o.getPrevState();se(a,t,r),se(u,t,r),c[t]=le(r).reduce(function(e,t){return e[t]=1,e},{}),i[t]=1;var s=xt.computed;oe(s._computedDep,t,{retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0}),oe(s._computedValue,t),oe(s._computedValueOri,t);var d=Object.keys(r);if(xt.moduleName_stateKeys_[t]=d,t===ye){var f=xt.globalStateKeys;d.forEach(function(e){f.includes(e)||f.push(e)})}}function qt(e,t){void 0===t&&(t=!1);var n=xt.ccUKey_ref_,r=xt.moduleName_ccClassKeys_,o=xt.ccClassKey_ccClassContext_,a=[];if(e){if(!xt.store._state[e])throw Error("module["+e+"] is not declared in store");var c=r[e];if(c&&0!==c.length){var i=c[0],u=o[i];if(!u)throw Error("no ccClassContext found for ccClassKey "+i+"!");a=u.ccKeys}if(e===H&&(a=a.filter(function(e){return!e.startsWith(O)})),0===a.length){if(!1!==t){throw Error("[[pickOneRef]]: no ref found for module["+e+"]!,if this message doesn't matter, you can ignore it")}a=[Y]}}else a=[Y];var s=a[0],d=n[s];if(s!==Y||d||(d=n[s]=xt.permanentDispatcher),!d)throw Error("cc found no ref!");return d}var Ht=J,Bt=xe,Gt=function(){return Promise.resolve()};function Yt(e,t,n,r,o){void 0===n&&(n="");var a=void 0===o?{}:o,c=a.ccClassKey,i=a.ccKey,u=a.throwError,s=a.refModule,d=void 0===s?"":s;if(void 0===e&&void 0===t)throw Error("params type error");var f,l="",p="";try{if(c&&i){var y=Ht(c,i),_=xt.refs[y];if(!_)return Bt("no ref found for ccUniqueKey:"+y+"!"),Gt();f=_.ctx.dispatch}else{if("string"==typeof e)if(e.includes("/")){var v=e.split("/");l=v[0],p=v[1]}else p=e;var m;if(!(m=l&&"*"!==l?qt(l):d?qt(d):qt()))return Bt("no ref found"),Gt();f=m.ctx.dispatch}if("*"!==l)return f(e,t,n,r);var h=xt.reducer._fnName_fullFnNames_[p];if(!h)return;var C=[];return h.forEach(function(e){C.push(f(e,t,n,r))}),Promise.all(C)}catch(e){if(u)throw e;return Bt(e.message),Gt()}}function Xt(e,t,n,r,o){return Yt(e,t,n,r,o)}function Jt(a,e){void 0===e&&(e={});var t="module["+a+"] reducer";if(!be(e))throw Error(t+" "+we);kt(a,!1,t+" is invalid");var n=xt.reducer,r=n._reducer,o=n._caller,c=n._fnName_fullFnNames_,i=n._module_fnNames_,u=Object.assign({},e);r[a]=u;var s=oe(o,a),d=ae(i,a);u.setState||(u.setState=function(e){return e}),le(u).forEach(function(e){d.includes(e)||d.push(e);var r=a+"/"+e,t=ae(c,e);t.includes(r)||t.push(r),s[e]=function(e,t,n){return Xt(r,e,t,n)};var o=u[e];if("function"!=typeof o)throw Error("reducer key["+e+"] 's value is not a function");var n=o;o.__fnName&&(u[e]=n=function(e,t,n){return o(e,t,n)}),n.__fnName=e,n.__stateModule=a,n.__ctName=o.__ctName||o.constructor.name})}var Zt=0,Qt=["a","A","b","B","c","C","d","D","e","E","f","F","g","G","h","H","i","I","j","J","k","K","l","L","m","M","n","N","o","O","p","P","q","Q","r","R","s","S","t","T","u","U","v","V","w","W","x","X","y","Y","z","Z"];function en(e){return Zt++,(e||function(e){void 0===e&&(e=6);for(var t="",n=0;n<e;n++)t+=Qt[de()];return t}())+"_"+Zt}var tn=xt.moduleName_stateKeys_,nn=xt.runtimeVar,rn=1;function on(e,t,n,r,o){var a=t.refCtx,c=t.type;if(e!==Ke||a.__$$inBM){if(n){var i,u,s,d=typeof n;if("string"==d)be(r)?((u={})[n]=r,i=u):typeof r===L&&((s={})[n]=Fe(r,o),i=s);else if(be(n))i=n;else if(d===L&&!be(i=n(a)))throw Error("type of "+c+" callback result must be an object");i?function(O,U,N){var e=nn.computedCompare,t=nn.watchCompare,D=nn.watchImmediate,I=U.type===ge?e:t,A=U.module;le(N).forEach(function(c){var e=N[c],t=typeof e,n=e;if(t===L&&(n={fn:e}),be(n)){var r=n,o=r.fn,a=r.immediate,i=void 0===a?D:a,u=r.compare,s=void 0===u?I:u,d=r.lazy,f=r.retKeyDep,l=void 0===f||f,p=n.depKeys||"-",y=n.sort||rn++,_=en("mark");if("*"===p||"-"===p){var v="-"===p&&l,m=sn(U,A,c,v),h=m.pureKey,C=m.module;an(O,U,_,h),un(O,U,C,h,o,p,i,s,d,y)}else if(0===p.length){var K=sn(U,A,c),g=K.pureKey,S=K.module;an(O,U,_,g),un(O,U,S,g,o,p,i,s,d,y)}else{var $=sn(U,A,c),E=$.pureKey,w=$.moduleOfKey,b=w;an(O,U,_,E);var x={};p.forEach(function(e){var t=sn(U,A,e),n=t.isStateKey,r=t.pureKey,o=t.module;if(b&&o!==b)throw Error("including slash both in retKey["+c+"] and depKey["+e+"] founded, but their module is different");var a=ae(x,o);if(!n)throw Error("depKey["+e+"] invalid, module["+o+"] doesn't include its stateKey["+r+"]");cn(U,o,r),a.push(r)}),le(x).forEach(function(e){un(O,U,e,E,o,x[e],i,s,d,y)})}}else xe("retKey["+c+"] item type error")})}(e,t,i):xe(e+" "+c+" param type error")}}else xe(e+" "+c+" must been called in setup block")}function an(e,t,n,r){if(e===Ke){var o=t.refCtx,a=o.retKey_fnUid_,c=t.type,i=c+"_"+r;if(a[i])throw Error("ccUKey["+o.ccUniqueKey+"], retKey["+r+"] duplicate in ref "+c);a[i]=n}}function cn(e,t,n){var r=e.refCtx;r&&(r.__$$staticWaKeys[j(t,n)]=1)}function un(e,t,n,r,o,a,c,i,u,s){var d=oe(t.dep,n,{retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0}),f=d.retKey_fn_,l=d.stateKey_retKeys_,p=d.retKey_lazy_,y=d.retKey_stateKeys_,_=Array.isArray(a)&&0===a.length,v=s;_?v<0||(v=-1):s<0&&(v=0);var m={fn:o,immediate:c,compare:i,depKeys:a,sort:v,isStatic:_};f[r]?e!==Ke&&(f[r]=m,p[r]=u):(f[r]=m,p[r]=u,d.fnCount++),e===Ke&&(t.retKeyFns[r]=f[r]);var h=t.refCtx;if(h&&("computed"===t.type?h.hasComputedFn=!0:h.hasWatchFn=!0),"-"!==a){var C="*"===a?["*"]:a;"*"===a&&(y[r]=tn[n]),C.forEach(function(e){ie(l,e,r)})}}function sn(e,t,n,r){void 0===r&&(r=!1);var o,a=t,c=n,i="";if(n.includes("/")){var u=n.split("/"),s=u[0];s&&(a=i=s),c=u[1]}var d=tn[a];if(a===e.module)o=e.stateKeys;else{if(!(o=d))throw q($e.CC_MODULE_NOT_FOUND,Z("module["+a+"]"));if(!e.connect[a])throw q($e.CC_MODULE_NOT_CONNECTED,Z("module["+a+"], retKey["+c+"]"))}var f=o.includes(c);return r&&f&&function(e,t,n,r){var o=oe(e.dep,t,{retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0}),a=o.retKey_stateKeys_;ie(o.stateKey_retKeys_,n,n),ie(a,n,n),r&&cn(e,t,n)}(e,a,c,d.includes(c)),{isStateKey:f,pureKey:c,module:a,moduleOfKey:i}}function dn(e,o){var t={};return le(e).forEach(function(r){o[r]=X(),Object.defineProperty(t,r,{get:function(){var e=o[r]||{},t=e.isLazy;if(!t)return e.result;if(t&&e.needCompute){var n=(0,e.fn)(e.newState,e.oldState,e.fnCtx);e.result=n,e.needCompute=!1}return e.result},set:function(e){var t=o[r];e[b]?e.isLazy?(t.isLazy=!0,t.needCompute=!0,t.newState=e.newState,t.oldState=e.oldState,t.fn=e.fn,t.fnCtx=e.fnCtx):(t.isLazy=!1,t.result=e.result):xe("computed value can not been changed manually")}})}),t}var fn=be;function ln(n,e){if(e){var t="module["+n+"] computed";if(!fn(e))throw Error(t+" "+we);kt(n,!1,t+" is invalid");var r=xt.computed,o=xt.store.getState(),a=r.getRootComputedValue(),c=r.getRootComputedDep();r.getRootComputedRaw()[n]=e;var i=o[n];on(W,{type:ge,module:n,stateKeys:le(i),dep:c},e);var u=xt.getDispatcher(),s=Object.assign({},i);a[n]=dn(e,r._computedValueOri[n]);var d=a[n];dt(u,n,u&&u.ctx.module,i,function(e,t){return He(t,W,"computed",c,n,i,e)},i,i,s,We(n),!0,"computed",W,d)}}var pn=be,yn=oe,_n=le;function vn(n,e,t){if(void 0===t&&(t=!1),e){var r="module["+n+"] watch";if(!pn(e))throw Error(r+" "+we);kt(n,!1,r+" is invalid");var o=xt.watch.getRootWatchDep(),a=xt.watch.getRootWatchRaw(),c=xt.computed.getRootComputedValue();if(t){var i=a[n];i?Object.assign(i,e):a[n]=e}else a[n]=e;var u=(0,xt.store.getState)(n);on(W,{module:n,stateKeys:_n(u),dep:o},e);var s=xt.getDispatcher(),d=Object.assign({},u),f=yn(c,n);dt(s,n,s&&s.ctx.module,u,function(e,t){return He(t,W,"watch",o,n,u,e)},u,u,d,We(n),!0,"watch",W,f)}}var mn=[U,N,12,D,14,15],hn={};function Cn(t,n){hn[t].forEach(function(e){return e({sig:t,payload:n})})}function Kn(e,t){!function(n,e,t){function r(e,t){t?n[e].push(t):console.warn("invalid sig["+e+"]")}Array.isArray(e)?e.forEach(function(e){r(e,t)}):r(e,t)}(hn,e,t)}mn.forEach(function(e){return hn[e]=[]});var gn=function(e){if(!xt.errorHandler)throw e;xt.errorHandler(e)},Sn=0,$n={},En={},wn={},bn={};function xn(){return++Sn}function On(e,t,n,r){if(n){var o=r[e];o||(o=r[e]={});var a=o[t];a?Object.assign(a,n):o[t]=n}}function Un(e,t,n){On(e,t,n,$n)}function Nn(e,t,n){return Un(e,t,n),function(e){var t=function(e){return $n[e]}(e),n=[];return le(t).forEach(function(e){n.push({module:e,state:t[e]})}),n}(e)}function Dn(e){delete $n[e]}var In={},An=function(e,t,n){void 0===n&&(n=1e3);var r=In[t];r&&clearTimeout(r),In[t]=setTimeout(function(){delete In[t],e()},n)};function Mn(e,n,r,t,o,a){var c=e.ctx;if(!c.hasWatchFn)return{shouldCurrentRefUpdate:!0};var i=Object.assign({},t),u=c.watchDep,s=c.module,d=c.ccUniqueKey,f=c.refComputed;n!==s&&(f=c.connectedComputed[n]);var l=Object.assign({},r,t);return dt(e,n,s,r,function(e,t){return He(t,Ke,Se,u,n,r,e,d)},t,l,i,o,a,Se,Ke,f)}function Tn(e,n,r,t,o,a,c){void 0===a&&(a=!1),void 0===c&&(c=!1);var i=e.ctx,u=Object.assign({},t);if(!i.hasComputedFn)return u;var s=i.computedDep,d=i.module,f=i.ccUniqueKey,l=i.refComputed;n!==d&&(l=i.connectedComputed[n]);var p=Object.assign({},r,t);return dt(e,n,d,r,function(e,t){return He(t,Ke,"computed",s,n,r,e,f)},t,p,u,o,a,"computed",Ke,l),c&&Object.assign(t,u),u}var Rn=le,Wn=xt.ccUKey_ref_,kn=xt.waKey_uKeyMap_,jn=xt.waKey_staticUKeyMap_;function Ln(o,e,c,i){var t=Rn(e),n=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=[]),e+"/"+t.sort().join(",")+"/"+n+"/"+("*"===r?"*":r.sort().join(","))}(o,t,c,i),r=function(e,t){return Ft[e][t]}(o,n);if(r)return{sharedStateKeys:t,result:r};var a={},u=[],s=[];t.forEach(function(e){var t=o+"/"+e;Object.assign(a,kn[t],jn[t])});function d(e,t){e?u.push(t):s.push(t)}function f(e,t){var n=e.ctx,r=n.ccClassKey,o=n.ccUniqueKey;if(c){var a=n.renderKey===c;"*"===i?a&&d(t,o):i.includes(r)?a&&d(t,o):d(t,o)}else d(t,o)}var l=Rn(a),p=!1;l.forEach(function(e){var t=Wn[e];if(t){var n=t.ctx,r=!!n.connect[o];n.module===o&&f(t,!0),r&&f(t,!1)}else p=!0});var y={belong:u,connect:s};return p||function(e,t,n){Ft[e][t]=n}(o,n,y),{sharedStateKeys:t,result:y}}var Pn=be,Fn=xe,Vn=z,zn=function(e,t){return e+"/"+Object.keys(t).sort().join("|")},qn=le,Hn=1,Bn=2,Gn=Ce,Yn=me,Xn=15,Jn=1,Zn=2,Qn=3,er=xt.store,tr=er.setState,nr=er.getPrevState,rr=er.saveSharedState,or=xt.middlewares,ar=xt.ccClassKey_ccClassContext_,cr=xt.refStore,ir=xt.moduleName_stateKeys_;function ur(e,t,a){var n=void 0===t?{}:t,c=n.module,r=n.skipMiddleware,i=void 0!==r&&r,u=n.payload,s=n.stateChangedCb,o=n.reactCallback,d=n.type,f=n.calledBy,l=void 0===f?Yn:f,p=n.fnName,y=void 0===p?"":p,_=n.renderKey,v=void 0===_?"":_,m=n.delay,h=void 0===m?-1:m;if(void 0!==e)if(Pn(e)){var C=a.ctx,K=C.module,g=C.ccUniqueKey,S=C.ccKey,$=function(e,t){return e===t?Hn:Bn}(c,K),E={payload:u,renderKey:v,ccKey:S,module:c,fnName:y},w=function(e,t,n){var r=Ge(t,ir[e],!0).partialState;if(r)return tr(e,r,n);return r}(c,e,{ref:a,callInfo:E,noSave:!0});Object.assign(e,w),sr(a,E,v,l,e,$,o,!0,function(t,n,r){var o={calledBy:l,type:d,payload:u,renderKey:v,delay:h,ccKey:S,ccUniqueKey:g,committedState:n,refModule:K,module:c,fnName:y,sharedState:w||{},modState:function(e,t){o.committedState[e]=t,o.sharedState[e]=t}};!function(e,n,r){if(!0!==e){var o=or.length;if(0<o){var a=0;!function e(){if(a===o)r();else{var t=or[a];a++,"function"==typeof t?t(n,e):(Fn("found one middleware is not a function"),e())}}()}else r()}else r()}(i,o,function(){var e=rr(c,o.sharedState,!0);r&&r(),t===Jn&&!e||Cn(Xn,{calledBy:l,type:d,committedState:n,sharedState:e,module:c,ccUniqueKey:g,renderKey:v}),s&&s(),e&&function(e,t,n,r,o,a,c){var i=function(){!function(c,e,i,t,u,n){if(!i)return;var s=xt.ccUKey_ref_,r=e.ctx,o=r.ccUniqueKey,a=t===Hn,d=Ln(u,i,n,ar[r.ccClassKey].renderKeyClasses),f=d.sharedStateKeys,l=d.result,p=l.connect;l.belong.forEach(function(e){var t=s[e];if(t){var n=t.ctx.ccUniqueKey;a&&n===o||sr(t,c,null,"broadcastState",i,Hn)}});var y=nr(u);p.forEach(function(e){var t=s[e];if(t&&!0!==t.__$$isUnmounted){var n=t.ctx,r=Tn(t,u,y,i,c),o=Mn(t,u,y,r,c),a=o.shouldCurrentRefUpdate;a&&(n.__$$settedList.push({module:u,keys:f}),n.__$$ccForceUpdate())}})}(e,t,n,r,o,a)};if(0<c){var u=zn(t.ctx.ccUniqueKey,n);An(i,u,c)}else i()}(E,a,e,$,c,v,h)})})}else Fn("your committed state "+we)}function sr(e,t,n,r,o,a,c,i,u){void 0===i&&(i=!1);var s=e.state,d=e.ctx;if(!0===e.__$$isUnmounted||a!==Hn||r!==Gn&&Vn(o))return u&&u(Jn,o);var f=d.module,l=d.storedKeys,p=d.ccUniqueKey,y=Qn;if(n&&(y=Zn,d.renderKey!==n))return u&&u(Jn,o);if(0<l.length){var _=Ge(o,l),v=_.partialState;if(!_.isStateEmpty){if(!0===d.persistStoredKeys){var m=Ge(s,l),h=Object.assign({},m.partialState,v);localStorage.setItem("CCSS_"+p,JSON.stringify(h))}cr.setState(p,v)}}function C(){var e=i?Ne(d.state,K):K;e&&(d.__$$settedList.push({module:f,keys:qn(e)}),d.__$$ccSetState(e,c,g))}var K=Tn(e,f,s,o,t),g=Mn(e,f,s,K,t,!1).shouldCurrentRefUpdate;u?u(y,K,C):C()}function dr(e,t){try{qt(t.module).ctx.changeState(e,t)}catch(e){re(e)}}var fr=xe,lr=be,pr=le,yr=xt.store,_r=yr.getState,vr=yr.setState,mr=xt.reducer._reducer,hr=xt.computed._computedValue,Cr=q,Kr=Z;function gr(e,t){void 0===t&&(t=!0);try{return kt(e,!1,"module["+e+"] is not configured in store"),!0}catch(e){return function(e,t){if(void 0===t&&(t=!0),t)throw e;Er(e)}(e,t),!1}}function Sr(o,a){return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?a(e):o.apply(void 0,n)}}function $r(e,t,n,r){var o;return!0===e?(function(e){wn[e]=!0}(o=xn()),r[o]=1):r[o=t||xn()]||(r[o]=1),{_chainId:o,_oriChainId:n||o}}function Er(e,t){e&&(t?t(e):(fr(e),xt.errorHandler&&xt.errorHandler(e)))}function wr(e,t,n){return function(r,o,a,c){return new Promise(function(e,t){var n=Object.assign(a,{__innerCb:Sr(e,t)});r(o,n,c)}).catch(gn)}(Nr,e,t,n)}function br(e,t,n){return wr(e,{callerRef:t.callerRef,context:!0,module:t.module,calledBy:t.calledBy,fnName:e.name,delay:t.delay,renderKey:t.renderKey,chainId:t.chainId,oriChainId:t.oriChainId,chainId_depth_:t.chainId_depth_,isSilent:t.isSilent},n)}function xr(a,c){return function(e,t,n){var r=a.ctx;if(c){var o=Object.assign({},r.state,e);c.state=o}n?(r.renderCount+=1,r.reactSetState(e,t)):(Object.assign(a.state,e),r.state=a.state)}}function Or(n){return function(e){var t=n.ctx;t.renderCount+=1,t.reactForceUpdate(e)}}function Ur(h,e){var t=void 0===e?{}:e,C=t.chainId,K=t.oriChainId,g=t.isLazy,n=t.delay,S=void 0===n?-1:n,r=t.isSilent,$=void 0!==r&&r,o=t.chainId_depth_,E=void 0===o?{}:o;return function(e,t,n,r){var o=g,a=$,c="",i=null!=r?r:S;if(lr(n)){var u=n.lazy,s=n.silent,d=n.renderKey,f=n.delay;void 0!==u&&(o=u),void 0!==s&&(a=s),void 0!==d&&(c=d),void 0!==f&&(i=f)}else c=n;var l,p,y=$r(o,C,K,E),_=typeof e,v={callerRef:h,calledBy:w,module:h.ctx.module,isSilent:a,chainId:y._chainId,oriChainId:y._oriChainId,chainId_depth_:E,delay:i,renderKey:c},m=Error("param type error, correct usage: invoke(userFn:function, ...args:any[]) or invoke(option:[module:string, fn:function], ...args:any[])");if("function"==_)return e.__fnName&&(e.name=e.__fnName),br(e,v,t);if("object"!=_)throw m;if(p=Array.isArray(e)?(l=e[1],e[0]):(l=e.fn,e.module),"function"!=typeof l)throw m;return p&&(v.module=p),br(l,v,t)}}function Nr(l,e,p){var y=e.callerRef,_=y.ctx.module,t=e.module,v=void 0===t?_:t,n=e.context,m=void 0!==n&&n,h=e.__innerCb,C=e.type,K=e.calledBy,g=e.fnName,r=e.delay,S=void 0===r?-1:r,$=e.renderKey,E=e.chainId,w=e.oriChainId,b=e.chainId_depth_,x=e.isSilent;!function(e,t,n,r){var o=n;gr(e,!1)?(e!==t&&n&&(fr(function(e,t){return"param module["+e+"] must equal current ref's module["+t+"] when pass param reactCallback, or it will never been triggered! "}(e,t)),o=null),r(null,o)):r(Error("inputModule:"+e+" invalid"),null)}(v,_,e.cb,function(e,r){if(e)return Er(e,h);var o,t=_r(v),n={};if(o=E===w&&1===b[E],m){b[E]=b[E]+1;var a=Dr(y,!1,x,v,$,S,E,w,b),c=Dr(y,!1,!0,v,$,S,E,w,b),i=Dr(y,!0,x,v,$,S,E,w,b),u=Ur(y,{delay:S,chainId:E,oriChainId:w,chainId_depth_:b}),s=Ur(y,{isLazy:!0,delay:S,oriChainId:w,chainId_depth_:b}),d=Ur(y,{isLazy:!1,delay:S,isSilent:!0,oriChainId:w,chainId_depth_:b}),f=function(e){return bn[e]}(E)||{};n={module:v,callerModule:_,committedStateMap:f,committedState:f[v]||{},invoke:u,lazyInvoke:s,silentInvoke:d,invokeLazy:s,invokeSilent:d,dispatch:a,lazyDispatch:i,silentDispatch:c,dispatchLazy:i,dispatchSilent:c,rootState:_r(),globalState:_r(ye),moduleState:t,moduleComputed:hr[v]||{},setState:function(e){return a("setState",e,{silent:x,renderKey:$,delay:S})},refCtx:y.ctx}}!1===x&&Cn(U,{isSourceCall:o,calledBy:K,module:v,chainId:E,fn:l}),new Promise(function(e){return e(l(p,t,n))}).then(function(e){b[E]=b[E]-1;var t=1===b[E];!function(e,t,n){On(e,t,n,bn)}(E,v,e);var n=[];!1===x&&(Cn(N,{isSourceCall:o,calledBy:K,module:v,chainId:E,fn:l}),!function(e){return!0===wn[e]}(E)?n=[{module:v,state:e}]:t?function(e){return!0===En[e]}(E)||(n=Nn(E,v,e),Dn(E)):Un(E,v,e)),n.forEach(function(e){e.state&&ur(e.state,{renderKey:$,module:e.module,reactCallback:r,type:C,calledBy:K,fnName:g,delay:S,payload:p},y)}),o&&(Dn(E),function(e){delete bn[e]}(E)),h&&h(null,e)}).catch(function(e){Cn(D,{isSourceCall:o,calledBy:K,module:v,chainId:E,fn:l}),Er(e,h)})})}function Dr(b,x,O,U,N,D,I,A,M){return void 0===N&&(N=""),void 0===D&&(D=-1),void 0===M&&(M={}),function(e,n,t,r){void 0===e&&(e={});var o=x,a=O,c="",i=r||D;if(lr(t)){c=N;var u=t.lazy,s=t.silent,d=t.renderKey,f=t.delay;void 0!==u&&(o=u),void 0!==s&&(a=s),void 0!==d&&(c=d),void 0!==f&&(i=f)}else c=t||N;function l(){return Ur(b,{chainId:v,oriChainId:m,isLazy:o,chainId_depth_:M})(e,n,c,i)}var p,y,_=$r(o,I,A,M),v=_._chainId,m=_._oriChainId,h=typeof e,C=U;if(h&&"object"==h){if(Array.isArray(h))return l();var K=e.module;K&&(C=K),p=e.type,y=e.cb}else{if("string"!=h&&"function"!=h)return Promise.reject(Cr($e.CC_DISPATCH_PARAM_INVALID));var g=e;if("function"==h){var S=e.__fnName;if(!S)return l();g=S,1==M[m]&&(C=e.__stateModule)}var $=g.split("").filter(function(e){return"/"===e}).length;if(0===$)p=g;else{if(1!==$)return Promise.reject(Cr($e.CC_DISPATCH_STRING_INVALID,Kr(g)));var E=g.split("/"),w=E[0];w&&(C=w),p=E[1]}}return"*"===C?Yt("*/"+p,n,{silent:a,lazy:o,renderKey:c},i,{refModule:b.ctx.module}):new Promise(function(e,t){!function(e){var t=void 0===e?{}:e,n=t.callerRef,r=t.module,o=t.renderKey,a=t.isSilent,c=t.type,i=t.payload,u=t.cb,s=t.__innerCb,d=t.delay,f=void 0===d?-1:d,l=t.chainId,p=t.oriChainId,y=t.chainId_depth_,_=mr[r];if(!_)return s(Error("no reducerMap found for module:["+r+"]"));var v=_[c];if(!v)return s(Error("no reducer fn found for ["+r+"/"+c+"], is these fn you want:"+Object.keys(_)));Nr(v,{callerRef:n,module:r,type:c,cb:u,context:!0,__innerCb:s,calledBy:T,delay:f,renderKey:o,isSilent:a,chainId:l,oriChainId:p,chainId_depth_:y},i)}({callerRef:b,module:C,type:p,payload:n,cb:y,__innerCb:Sr(e,t),delay:i,renderKey:c,isSilent:a,chainId:v,oriChainId:m,chainId_depth_:M})}).catch(gn)}}function Ir(c,e){return function(t){function n(){e&&e(function(e){for(var t="string"!=typeof e||e.includes("/")?e:c+"/"+e,n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];Yt.apply(void 0,[t].concat(r))},_r(c))}try{!function(e,t,n){dr(t,{module:e,stateChangedCb:n})}(c,t,n)}catch(e){var r=_r(c);if(!r)return fr("invalid module "+c);var o=Ge(t,pr(r),!1,!0),a=o.ignoredStateKeys;o.isStateEmpty||vr(c,o.partialState),0<a.length&&fr("invalid keys:"+a.join(",")+", their value is undefined or they are not declared in module"+c),ne("no ccInstance found for module["+c+"] currently, cc will just store it, lately ccInstance will pick this state to render"),n()}}}var Ar=function(o){return function(e,t){var n=o.ctx,r=Object.assign({},o.state,e);n.type===_e?(o.state=n.state=r,n.__boundSetState(r),t&&t(r)):(n.state=r,o.__$$isMounted?o.state=r:Object.assign(o.state,e),n.__boundSetState(e,function(){t&&t(r)}))}},Mr=function(r){return function(e){var t=r.ctx;if(t.type===_e){var n=Object.assign({},r.state);t.__boundSetState(n),e&&e(n)}else t.__boundForceUpdate(e)}},Tr=be,Rr=ke;function Wr(t,n){if(xt.isStartup){if(!Tr(n))throw Error("param config "+we);if(t===ye)throw Error("configuring global module is not allowed");var e=n.state,r=n.reducer,o=n.computed,a=n.watch,c=n.init,i=n.isClassSingle,u=Rr(e);if("function"==typeof e&&(xt.moduleName_stateFn_[t]=e),r&&!Tr(r))throw Error("config.reducer "+we);if(zt(t,u,!0),Jt(t,r),o&&ln(t,o),a&&vn(t,a),xt.moduleSingleClass[t]=!0===i,c){if("function"!=typeof c)throw Error("init value must be a function!");Promise.resolve().then(c).then(function(e){Ir(t,n.initPost)(e)})}xt.moduleName_isConfigured_[t]=!0,Cn(14,t)}else It.push({module:t,config:n})}function kr(r,o){var a={};return le(r).forEach(function(e){function t(){return n.apply(void 0,arguments)}var n=r[e];t.__fnName=e,t.__stateModule=o,a[e]=t}),a}function jr(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function Lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Pr=le,Fr=be,Vr=xt.store._state,zr=Object.prototype.hasOwnProperty;var qr=z,Hr=q,Br=xt.featureStr_classKey_,Gr=xt.userClassKey_featureStr_,Yr=xt.ccClassKey_ccClassContext_,Xr=0;var Jr=xt.moduleName_stateKeys_,Zr=xt.moduleName_ccClassKeys_,Qr=xt.moduleSingleClass,eo=xt.ccClassKey_ccClassContext_,to=xt.computed._computedValue,no=function(e,t){var n=!1,r=!1;if(!Array.isArray(e))return{duplicate:n,notArray:!0,keyElementNotString:r};if(!Array.isArray(t))return{duplicate:n,notArray:!0,keyElementNotString:r};var o=e.length,a=t.length;e:for(var c=0;c<o;c++){var i=e[c];if("string"!=typeof i){r=!0;break e}for(var u=0;u<a;u++){var s=t[u];if("string"!=typeof s){r=!0;break e}if(s===i){n=!0;break e}}}return{duplicate:n,notArray:!1,keyElementNotString:r}},ro=Z;function oo(e,t,n,r,o,a,c,i,u){void 0===e&&(e=H),void 0===a&&(a=[]),!0===i&&function(){if(!0!==xt.isStartup)throw Error("you must startup cc by call startup method before register ReactClass to cc!")}();var s="cc"===u;kt(e,!1,"module["+e+"] is not configured in store"),jt(Jr[e],a);var d=c,f=Array.isArray(c);!f&&"string"!=typeof c||(d={},(f?c:c.split(",")).forEach(function(e){d[e]="-"}));e===ye||d[ye]||(d[ye]="-");var l,p=function(e,t,n){if(t===Y)return[];if(!n)return[];if("*"===n)return Jr[e];var r=no(n,[]);if(r.notArray||r.keyElementNotString)throw Error("watchedKeys "+P+" "+ro("ccClassKey:"+t));return n}(e,t,o),y=function(o,e,t,a){if(!Fr(o))throw Error("CcFragment or CcClass's prop connect type error, it "+we);function c(e){return i+" module["+e+"]'s value must be * or array of string"}var i="CcFragment or CcClass's prop connect is invalid,",n=Pr(o);n.sort();var u=[],s={};if(n.forEach(function(t){var n=Vr[t],r=a+"_"+t+"/";if(void 0===n)throw Error(i+" module["+t+"] not found in cc store ");var e=o[t];if("string"==typeof e){if("*"!==e&&"-"!==e)throw Error(c(t));u.push(r+"*"),Pr(n).forEach(function(e){s[t+"/"+e]=e})}else{if(!Array.isArray(e))throw Error(c(t));e.forEach(function(e){if(!zr.call(n,e))throw Error(i+" module["+t+"]'s key["+e+"] not declared in cc store ");r+=e+",",s[t+"/"+e]=e}),u.push(r)}}),u.push("|"),"*"===e)u.push(a+"_$"+t+"/*");else{e.sort();var r=t+"/"+e.join(",");u.push(r)}return{featureStr:u.join("@"),connectedModuleKeyMapping:s,connectedModuleNames:n}}(d,p),_=y.connectedModuleKeyMapping,v=y.connectedModuleNames,m=function(e,t,n,r,o,a,c){if(void 0===c&&(c=""),!c){if(t===H&&qr(n)&&0===r.length)return o+"0";var i=o+":"+a,u=Br[i];return u||(Br[i]=u=""+o+ ++Xr)}if(c.startsWith(h))throw Error("user can not specify a classKey["+c+"] starts with $$Cc");if(!e&&c.toLowerCase()==Y.toLowerCase())throw Error(Y+" is cc built-in ccClassKey name.");if(Yr[c]){if(Gr[c]!==a)throw Hr($e.CC_CLASS_KEY_DUPLICATE,"ccClassKey:["+c+"] duplicate")}else Gr[c]=a;return c}(s,e,d,p,r,y.featureStr,t);if(n){if(!Array.isArray(n)&&"*"!==n)throw Error("renderKeyClasses type err, it is must be an array or string *");l=n}else l=[m];return function(e,t,n,r,o,a,c){var i=eo[e];i||(i=function(e,t,n,r,o){return{module:e,ccClassKey:t,renderKeyClasses:n,originalWatchedKeys:o,watchedKeys:r,ccKeys:[],connectedState:{},connectedModuleKeyMapping:null,connectedModule:{}}}(n,e,t,o,r),eo[e]=i);var u={},s={};if(a){var d=xt.store._state,f=i.connectedState;c.forEach(function(e){f[e]=d[e],s[e]=to[e],u[e]=1}),i.connectedModuleKeyMapping=a,i.connectedModule=u,i.connectedComputed=s}}(m,l,e,o,p,_,v),function(e,t){var n=ae(Zr,e);if(!0===Qr[e]&&1<=n.length)throw Error("module["+e+"] is declared as single, only on ccClassKey can been registered to it, and now a ccClassKey["+n[0]+"] has been registered!");n.includes(t)||n.push(t)}(e,m),{_module:e,_connect:d,_watchedKeys:p,_ccClassKey:m}}var ao=xt.event_handlers_,co=xt.handlerKey_handler_,io=xt.ccUKey_handlerKeys_,uo=xt.ccUKey_ref_,so=function(e,t,n){return e+"$"+t+"$"+n},fo=ae,lo=xe;function po(e,t,n,r,o){void 0===o&&(o=null);var a=ao[e];if(a){var c=a;return r?c=a.filter(function(e){return e.ccUniqueKey===r}):n?c=a.filter(function(e){return e.ccClassKey===n}):t&&(c=a.filter(function(e){return e.module===t})),void 0!==o&&(c=c.filter(function(e){return e.identity===o})),c}return[]}function yo(e){var o={},r=[];e.forEach(function(e){var t=e.ccUniqueKey,n=e.event;delete co[e.handlerKey],o[t]=1,r.includes(n)||r.push(n)}),r.forEach(function(e){var r=ao[e];r&&(r.forEach(function(e,t){var n=e.ccUniqueKey;1===o[n]&&(r[t]=null,delete io[n])}),ao[e]=r.filter(function(e){return null!==e}))})}function _o(e,t,n,r,o,a){var c=fo(ao,r);if("function"!=typeof a)return lo("event "+r+"'s handler is not a function!");var i=so(n,r,o),u=fo(io,n),s=c.findIndex(function(e){return e.handlerKey===i}),d={event:r,module:e,ccClassKey:t,ccUniqueKey:n,identity:o,handlerKey:i,fn:a};-1<s?c[s]=d:(c.push(d),u.push(i)),co[i]=d}function vo(e){for(var t=arguments.length,a=Array(1<t?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r,o,c,i,u=null,s=null;"string"==typeof e?r=e:(r=e.name,u=e.identity,o=e.module,c=e.ccClassKey,i=e.ccUniqueKey,s=e.canPerform),po(r,o,c,i,u).forEach(function(e){var t=e.handlerKey,n=uo[e.ccUniqueKey];if(n&&t){if(n.__$$isUnmounted)return;var r=co[t];if(r){if(s&&!s(n))return;var o=r.fn;n.__$$isMounted?o.apply(void 0,a):n.ctx.__$$onEvents.push({fn:o,args:a})}}})}function mo(e,t){yo(po(e,t.module,t.ccClassKey,t.ccUniqueKey,t.identity))}function ho(e){var t=io[e];if(t){var n=[];t.forEach(function(e){return n.push(co[e])}),yo(n)}}function Co(e){if(e&&"object"==typeof e){var t;if(Array.isArray(e))t={name:e[0],identity:e[1]};else t=Object.assign({},e);return t}return{name:e}}var Ko=Object.freeze({bindEventHandlerToCcContext:_o,findEventHandlersToPerform:vo,findEventHandlersToOff:mo,offEventHandlersByCcUniqueKey:ho,getEventItem:Co});function go(n,e,r,o){return new Proxy(e,{get:function(e,t){return Xe(n,r,t,o),e[t]},set:function(e,t,n){return e[t]=n,!0}})}var So=xe,$o=J;function Eo(e){return e?e.props||e:{}}var wo=xt.store.getState;var bo=function(e,t,n){var r=n.module,o=n.state,a=!1,c="",i="",u="",s=null,d=-1,f=!1,l=e[ve],p=e.type,y=!1;if(void 0!==l){var _,v,m;if(d=e.delay,i=e.rkey,a="int"===p,f="bool"===p,(c=l).includes("/")){var h=c.split("/");_=h[1],v=c,m=h[0]}else v=r+"/"+(_=c),m=r;var C=wo(m);u="bool"===p?!je(m!==r?C:o,_):function(e){var t=pe(e);return t?t.currentTarget.value:e}(t);var K=e.val;if(void 0===K);else if("function"==typeof K){var g=K(u,_,{module:m,moduleState:C,fullKeyPath:v,state:o,refCtx:n});if(null!=g)if("as"===p)u=g;else{var S=typeof g;"boolean"==S?y=!g:"object"==S?(y=!0,s=g):xe("syncKey["+l+"] cb result type error.")}else"as"===p&&(y=!0)}else u=K}else{var $=pe(t);if(!$)return null;var E=$.currentTarget;u=E.value;var w=E.dataset;if(a="int"===p||void 0!==w.ccint,!(c=w.ccsync))return null;i=w.ccrkey;var b=w.ccdelay;if(b)try{d=parseInt(b)}catch(e){}}return{currentTarget:{value:u,extraState:s,noAutoExtract:y,dataset:{ccsync:c,ccint:a,ccdelay:d,ccrkey:i}},isToggleBool:f}};var xo=function(e,t,n,r,o){var a=t;!0!==n||Number.isNaN(a=parseInt(t))&&(xe(t+" can not convert to int but you set ccint as true!ÔºÅ"),a=t);var c=null,i=[];if(e.includes("/")){var u=e.split("/"),s=u[1];c=u[0],i=s.includes(".")?s.split("."):[s]}else i=e.includes(".")?e.split("."):[e];if(1===i.length){var d,f,l=i[0];return!0!==o?{module:c,state:(d={},d[l]=a,d)}:{module:c,state:(f={},f[l]=!r[l],f)}}var p,y=i[0],_=i.slice(1),v=r[y];return function e(t,n,r,o,a,c){void 0===c&&(c=!1);var i=n[o];if(r===o)if(!0===c){var u=t[i];"boolean"!=typeof u?xe("key["+i+"]'s value type is not boolean"):t[i]=!u}else t[i]=a;else e(t[i],n,r,++o,a,c)}(v,_,_.length-1,0,a,o),{module:c,state:(p={},p[y]=v,p)}},Oo=xt.store.getState;function Uo(e,t,n){var r=t.ctx,o=r.module,a=bo(e,n,r);if(a){var c=a.currentTarget,i=c.dataset,u=c.value,s=c.extraState,d=c.noAutoExtract;n&&n.stopPropagation&&n.stopPropagation();var f=i.ccsync,l=i.ccint,p=i.ccdelay,y=i.ccrkey;if(f.startsWith("/")&&(i.ccsync=""+o+f),f.includes("/")){var _=f.split("/")[0];kt(_,!1);var v=r.ccKey,m=r.ccUniqueKey;if(d)return void(s&&ur(s,{calledBy:K,ccKey:v,ccUniqueKey:m,module:_,renderKey:y,delay:p},t));var h=_!==o?Oo(_):t.state;ur(xo(f,u,l,h,a.isToggleBool).state,{calledBy:K,ccKey:v,ccUniqueKey:m,module:_,renderKey:y,delay:p},t)}else{if(d)return void(s&&t.setState(s,null,y,p));var C=xo(f,u,l,t.state,a.isToggleBool);t.setState(C.state,null,y,p)}}}var No=xt.reducer,Do=No._module_fnNames_,Io=No._caller,Ao=xt.refStore,Mo=xt.ccClassKey_ccClassContext_,To=xt.moduleName_stateKeys_,Ro=xt.store.getState,Wo=xt.moduleName_ccClassKeys_,ko=le,jo=q,Lo=Z,Po=ae,Fo=oe,Vo=xe,zo=z,qo=0;var Ho=function(){},Bo=function(e){return"type of defineEffect "+e+" param must be"},Go=function(e){return"-"===e.watchedKeys?ko(e.__$$renderStatus===x?e.__$$compareWaKeys:e.__$$curWaKeys):e.watchedKeys},Yo=function(t,e){function n(e){return ko(t.__$$renderStatus===x?t.__$$compareConnWaKeys[e]:t.__$$curConnWaKeys[e])}function r(e){if(c)return n(e);var t=o[e];return"*"===t?To[e]:"-"===t?n(e):t}var o=t.connect,a=t.connectedModules,c=Array.isArray(o);if(e)return r(e);var i={};return a.forEach(function(e){i[e]=r(e)}),i};function Xo(t,n,e){("*"===e?To[n]:e).forEach(function(e){return function(e,t,n){S(m,j(e,t),n)}(n,e,t)})}function Jo(c,e,t){void 0===t&&(t=5);var n=e.isSingle,o=e.ccClassKey,r=e.ccKey,a=void 0===r?"":r,i=e.module,u=e.type,s=e.insType,d=e.state,f=e.storedKeys,l=void 0===f?[]:f,p=e.persistStoredKeys,y=void 0!==p&&p,_=e.watchedKeys,v=e.connect,m=void 0===v?{}:v,h=e.tag,C=void 0===h?"":h,K=e.ccOption,g=void 0===K?{}:K,S=i,$=c.ctx,E=zo($),w=To[S],b=c.setState,x=c.forceUpdate;!E&&$.ccUniqueKey?(b=$.__boundSetState,x=$.__boundForceUpdate):u!==_e&&(b=c.setState.bind(c),x=c.forceUpdate.bind(c));var O={};O.persistStoredKeys=void 0===g.persistStoredKeys?y:g.persistStoredKeys,O.tag=g.tag||C;var U=function(e,t,n,r){var o;if(e)n&&So("now the ccClass is singleton, you needn't supply ccKey to instance props, cc will ignore the ccKey["+n+"]"),o=t;else if(n)o=$o(t,n);else{var a=en(r);o=$o(t,a)}return o}(n,o,a,O.tag);if(O.renderKey=g.renderKey||U,O.storedKeys=function(e,t,n,r){var o=n||r;return o?"*"===o?Object.keys(e).filter(function(e){return!t.includes(e)}):(jt(t,o),o):[]}(d,w,g.storedKeys,l),a&&!o)throw Error("missing ccClassKey while init a cc ins with ccKey["+a+"]");if(0<O.storedKeys.length&&!a)throw jo($e.CC_STORED_KEYS_NEED_CCKEY,Lo("ccClassKey["+o+"]"));var N=Ro(i),D=Ao._state[U]||{},I=Object.assign({},d,D,N),A=ko(c.state=I),M=Mo[o].connectedState,T=ko(m),R={},W={};T.forEach(function(e){W[e]=nt(c,e,!1)});var k=nt(c,i),j=W[ye],L=go(c,Ro(ye),ye,!1),P=De(ko(d),w),F=go(c,N,i,!0);i===ye&&xe("belong to $$global is not good.");var V=Po(Wo,i);V.includes(o)||V.push(o);function z(e,t){ur(e,t,c)}function q(e,t,n,r,o,a){z(t,{calledBy:n,module:e,renderKey:o,delay:a,reactCallback:r})}function H(e,t,n,r,o){q(e,t,he,n,r,o)}function B(e,t,n,r,o){"string"==typeof e?H(e,t,n,r,o):q(S,e,me,t,n,r)}function G(e,t,n){q(S,c.state,Ce,e,t,n)}var Y=[],X=[],J={effectItems:Y,eid_effectReturnCb_:{},effectPropsItems:X,eid_effectPropsReturnCb_:{}},Z={},Q=Eo(c.props),ee={type:u,insType:s,isSingle:n,module:i,ccClassKey:o,ccKey:a,ccUniqueKey:U,renderCount:1,initTime:Date.now(),watchedKeys:_,privStateKeys:P,connect:m,connectedModules:T,__$$onEvents:[],__$$hasModuleState:0<w.length,__$$renderStatus:Ee,__$$curWaKeys:{},__$$compareWaKeys:{},__$$compareWaKeyCount:0,__$$nextCompareWaKeys:{},__$$nextCompareWaKeyCount:0,__$$curConnWaKeys:{},__$$compareConnWaKeys:{},__$$compareConnWaKeyCount:{},__$$nextCompareConnWaKeys:{},__$$nextCompareConnWaKeyCount:{},__$$staticWaKeys:{},__$$staticWaKeyList:[],persistStoredKeys:O.persistStoredKeys,storedKeys:O.storedKeys,renderKey:O.renderKey,tag:O.tag,prevProps:Q,props:Q,mapped:{},prevState:I,state:I,moduleState:F,mstate:N,globalState:L,connectedState:R,extra:{},staticExtra:{},refComputed:{},refComputedValue:{},refComputedOri:{},moduleComputed:k,globalComputed:j,connectedComputed:W,moduleReducer:{},connectedReducer:{},reducer:{},stateKeys:A,computedDep:{},computedRetKeyFns:{},watchDep:{},watchRetKeyFns:{},execute:null,effectMeta:J,retKey_fnUid_:{},reactSetState:Ho,__boundSetState:b,reactForceUpdate:Ho,__boundForceUpdate:x,setState:B,setModuleState:H,forceUpdate:G,changeState:z,refs:Z,useRef:function(t){return function(e){return Z[t]={current:e}}},__$$ccSetState:xr(c),__$$ccForceUpdate:Or(c),__$$settedList:[],__$$prevMoStateVer:{},__$$prevModuleVer:{},__$$cuOrWaCalled:!1};c.setState=B,c.forceUpdate=G,ee.initState=function(e){return c.__$$isMounted?Vo("initState can only been called before first render period!"):be(d)?ee.__$$cuOrWaCalled?Vo("initState must been called before computed or watch"):(c.state=Object.assign({},d,e,D,F),ee.stateKeys=ko(c.state),void(ee.prevState=ee.state=c.state)):Vo("state "+we)};var te=Dr(c,!1,!1,S);if(ee.dispatch=te,1<t&&(ee.lazyDispatch=Dr(c,!0,!1,S),ee.silentDispatch=Dr(c,!1,!0,S),ee.dispatchLazy=ee.lazyDispatch,ee.dispatchSilent=ee.silentDispatch,ee.invoke=Ur(c),ee.lazyInvoke=Ur(c,{isLazy:!0}),ee.silentInvoke=Ur(c,{isLazy:!1,isSilent:!0}),ee.invokeLazy=ee.lazyInvoke,ee.invokeSilent=ee.silentInvoke,ee.setGlobalState=function(e,t,n,r){q(ye,e,me,t,n,r)}),2<t){var ne=function(e,t,n,r,o){var a;if("string"==typeof e)return Uo.bind(null,((a={})[ve]=e,a.type=o,a.val=t,a.delay=r,a.rkey=n,a),c);Uo({type:"val"},c,e)};ee.sync=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"val")},ee.syncBool=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"bool")},ee.syncInt=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"int")},ee.syncAs=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"as")},ee.set=function(e,t,n,r){var o;void 0===n&&(n=""),void 0===r&&(r=-1),Uo(((o={})[ve]=e,o.type="val",o.val=t,o.delay=r,o.rkey=n,o),c)},ee.setBool=function(e,t,n){var r;void 0===t&&(t=""),void 0===n&&(n=-1),Uo(((r={})[ve]=e,r.type="bool",r.delay=n,r.rkey=t,r),c)}}if(3<t&&(ee.emit=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];vo.apply(Ko,[Co(e)].concat(n))},ee.off=function(e,t){var n=void 0===t?{}:t,r=n.module,o=n.ccClassKey,a=n.ccUniqueKey,c=void 0===a?U:a,i=Co(e);mo(i.name,{module:r,ccClassKey:o,ccUniqueKey:c,identity:i.identity})},ee.on=function(e,t){var n=Co(e),r=n.identity;_o(S,o,U,n.name,void 0===r?null:r,t)}),4<t){ee.execute=function(e){return ee.execute=e},ee.watch=function(o){return function(e,t,n){var r={type:Se,refCtx:o,stateKeys:o.stateKeys,retKeyFns:o.watchRetKeyFns,module:o.module,connect:o.connect,dep:o.watchDep};o.__$$cuOrWaCalled=!0,on(Ke,r,e,t,n)}}(ee),ee.computed=function(o){return function(e,t,n){var r={type:ge,refCtx:o,stateKeys:o.stateKeys,retKeyFns:o.computedRetKeyFns,module:o.module,connect:o.connect,dep:o.computedDep};o.__$$cuOrWaCalled=!0,on(Ke,r,e,t,n)}}(ee);var re=function(u,s){return function(e,t,n,r){if(void 0===n&&(n=!0),void 0===r&&(r=!0),"function"!=typeof e)throw Error(Bo("first")+" function");var o=t,a=s?n:r;if(null!=t&&!Array.isArray(t))throw Error(Bo("second")+" one of them(array, null, undefined)");var c=null;!s&&o&&(c=[],o.forEach(function(e){var t;if(e.includes("/")){var n=(t=e).split("/");if(!ee.connect[n[0]])throw jo($e.CC_MODULE_NOT_CONNECTED,Lo("depKey["+e+"]"))}else t=S+"/"+e;c.push(t),ee.__$$staticWaKeys[t]=1}));var i={fn:e,isProp:s,depKeys:o,modDepKeys:c,eId:Symbol("__autoGen_"+ ++qo+"__"),compare:n,immediate:a};u.push(i)}};ee.effect=re(Y,!1),ee.effectProps=re(X,!0)}var oe=ee.moduleReducer,ae=ee.connectedReducer,ce=ee.__$$curConnWaKeys,ie=ee.__$$compareConnWaKeys,ue=ee.__$$compareConnWaKeyCount,se=ee.__$$nextCompareConnWaKeys,de=ee.__$$nextCompareConnWaKeyCount,fe=T.slice();fe.includes(i)?Vo("["+U+"]'s module["+i+"] is in belongTo and connect both, it will cause redundant render."):fe.push(i);var le=!1;if(fe.forEach(function(o){var e;e=o===i?oe:Fo(ae,o);var t=m[o];if(t){var n=M[o];"-"===t?(le=!0,ce[o]={},ie[o]={},ue[o]=0,se[o]={},de[o]=0,n=o===ye?ee.globalState:go(c,n,o)):Xo(U,o,t),R[o]=n}(Do[o]||[]).forEach(function(r){e[r]=function(e,t,n){return te(o+"/"+r,e,t,n)}})}),ee.reducer=Io,ee.mr=ee.moduleReducer,ee.cr=ee.connectedReducer,ee.r=ee.reducer,"-"===_?le=!0:Xo(U,i,_),ee.__$$autoWatch=le,ee.getWatchedKeys=function(){return Go(c.ctx||ee)},ee.getConnectWatchedKeys=function(e){return Yo(c.ctx||ee,e)},E)c.ctx=ee;else{var pe=c.ctx;Object.assign(c.ctx,ee,{__$$curWaKeys:pe.__$$curWaKeys,__$$compareWaKeys:pe.__$$compareWaKeys,__$$compareWaKeyCount:pe.__$$compareWaKeyCount,__$$nextCompareWaKeys:pe.__$$nextCompareWaKeys,__$$nextCompareWaKeyCount:pe.__$$nextCompareWaKeyCount,__$$curConnWaKeys:pe.__$$curConnWaKeys,__$$compareConnWaKeys:pe.__$$compareConnWaKeys,__$$compareConnWaKeyCount:pe.__$$compareConnWaKeyCount,__$$nextCompareConnWaKeys:pe.__$$nextCompareConnWaKeys,__$$nextCompareConnWaKeyCount:pe.__$$nextCompareConnWaKeyCount})}}var Zo=xt.store.getState;var Qo=le,ea=xt.runtimeVar;function ta(n,e,t){var r=n.ctx;if(n.__$$isUnmounted=!1,r.__$$inBM=!(n.__$$isMounted=!1),e){if("function"!=typeof e)throw Error("type of setup must be function");var o=e(r)||{};if(!be(o))throw Error("type of setup return result must be an plain json object");(!0===t||!0===ea.bindCtxToMethod&&!1!==t)&&Qo(o).forEach(function(e){var t=o[e];"function"==typeof t&&(o[e]=t.bind(n,r))}),r.settings=o}r.refComputedValue=dn(r.computedRetKeyFns,r.refComputedOri),r.refComputed=nt(n,null,!0,!0),function(o){function e(r){r(o,c,i,i,u,!0,!0),a.forEach(function(e){var t=Zo(e),n=We(e);r(o,e,t,t,n,!0,!0)})}var t=o.ctx,n=t.hasComputedFn,r=t.hasWatchFn,a=t.connectedModules,c=t.module,i=t.state,u=We(c);n&&e(Tn),r&&e(Mn)}(n),r.__$$inBM=!1}var na=xt.moduleName_stateKeys_,ra=xt.store,oa=ra.getPrevState,aa=ra.getState,ca=ra.getStateVer,ia=function(e,t){return xe("effect: key["+e+"] is invalid, its "+t+" has not been declared in' store!")};function ua(e,t){function n(a,c,i){return function(e){var t=e.fn,n=e.eId;if(!i||!1!==e.immediate){var r=a[n];r&&r(u);var o=t(u,c);a[n]=o}}}var u=e.ctx,r=u.effectMeta,o=r.effectItems,a=r.eid_effectReturnCb_,c=r.effectPropsItems,i=r.eid_effectPropsReturnCb_,m=u.__$$prevMoStateVer,h=u.__$$settedList,C=u.module;if(t)o.forEach(n(a,!0,!0)),c.forEach(n(i,!0,!0));else{var K=u.prevState,g=e.state,S=[];o.forEach(function(e){var t=e.modDepKeys,n=e.compare,r=e.fn,o=e.eId;if(t){var a=t.length;if(0===a)return;for(var c=function(e){return e.reduce(function(t,e){var n=e.module;return e.keys.forEach(function(e){return t[n+"/"+e]=1}),t},{})}(h),i=!1,u=0;u<a;u++){var s=t[u];if(n){var d=void 0,f=void 0,l=s.split("/"),p=l[0],y=l[1];if(p!==C){var _=oa(p),v=ca(p);if(m[y]===v[y])continue;if(m[y]=v[y],!_){ia(s,"module["+p+"]");continue}if(!na[p].includes(y)){ia(s,"unmoduledKey["+y+"]");continue}d=aa(p),f=_}else d=g,f=K;if(f[y]!==d[y]){i=!0;break}}else if(c[s]){i=!0;break}}i&&S.push({fn:r,eId:o})}else S.push({fn:r,eId:o})}),S.forEach(n(a,!1,!1));var s=u.prevProps,d=u.props,f=[];c.forEach(function(e){var t=e.depKeys,n=e.fn,r=e.eId;if(t){var o=t.length;if(0===o)return;for(var a=!1,c=0;c<o;c++){var i=t[c];if(s[i]!==d[i]){a=!0;break}}a&&f.push({fn:n,eId:r})}else f.push({fn:n,eId:r})}),f.forEach(n(i,!1,!1)),h.length=0}}var sa=xe,da=q,fa=Z,la=ee,pa=Q,ya=xt.runtimeVar,_a=xt.ccClassKey_ccClassContext_,va=xt.ccUKey_ref_,ma={};function ha(e,t,n,r){function o(){va[e]=t,n.push(e)}!function(e){void 0===ma[e]?ma[e]=1:ma[e]+=1}(e),r?setTimeout(o,r):o()}function Ca(e,t,n,r,o){var a=_a[n],c=a.ccKeys;ya.isDebug&&console.log(la("register ccKey "+o+" to CC_CONTEXT"),pa());var i=xt.isHotReloadMode();if(c.includes(o)){var u=function(){throw da($e.CC_CLASS_INSTANCE_KEY_DUPLICATE,fa("ccClass:"+n+",ccKey:"+o))};if(i){var s=function(e){return void 0===ma[e]?0:ma[e]}(o);if(t&&0<s)throw da($e.CC_CLASS_INSTANCE_MORE_THAN_ONE,fa("ccClass:"+n));1<s&&u(),sa("\n        found ccKey["+r+"] duplicated in hot reload mode, please make sure your ccKey is unique manually,\n        "+fa("ccClassKey:"+n+" ccKey:"+r+" ccUniqueKey:"+o)+"\n      "),ha(o,e,c,600)}else u()}else ha(o,e,c);return a}function Ka(t,e,n,r){var o=!1,a=le(t);a.forEach(function(e){2===t[e]&&(o=!0,E(n,e,r))}),e<a.length&&(o=!0),o&&Vt(n)}function ga(e){var t=e.ctx;if(t.__$$renderStatus=Ee,t.__$$autoWatch){var n=t.connectedModules,r=t.connect,o=t.ccUniqueKey,a=t.__$$compareConnWaKeys,c=t.__$$compareConnWaKeyCount;Ka(t.__$$compareWaKeys,t.__$$compareWaKeyCount,t.module,o),n.forEach(function(e){"-"===r[e]&&Ka(a[e],c[e],e,o)})}}function Sa(e){ga(e),e.__$$isMounted=!0,e.__$$isUnmounted=!1;var t=e.ctx,n=t.ccUniqueKey,r=t.__$$onEvents,o=t.__$$staticWaKeys;Ca(e,t.isSingle,t.ccClassKey,t.ccKey,n);var a=le(o);(e.ctx.__$$staticWaKeyList=a).forEach(function(e){return function(e,t){S(g,e,t)}(e,n)}),0<r.length&&(r.forEach(function(e){return e.fn.apply(void 0,e.args)}),r.length=0),ua(e,!0)}function $a(e){ga(e),ua(e),e.ctx.prevState=e.state}var Ea=xt.ccUKey_ref_,wa=xt.ccUKey_handlerKeys_,ba=xt.runtimeVar,xa=xt.ccClassKey_ccClassContext_,Oa=xt.handlerKey_handler_;function Ua(e,t){ba.isDebug&&console.log(ee(t+" unset ref"),Q("purple")),delete Ea[t];var n=xa[e].ccKeys,r=n.indexOf(t);r<0||n.splice(r,1),function(e){void 0===ma[e]?ma[e]=0:ma[e]-=1}(t);var o=wa[t];o&&o.forEach(function(e){delete Oa[e]})}var Na=le;function Da(n,r){function e(e){var t=n[e];"function"==typeof t&&t(r)}Object.getOwnPropertySymbols(n).forEach(e),Na(n).forEach(e)}function Ia(e){e.__$$isUnmounted=!0;var t=e.ctx,n=t.ccUniqueKey,r=t.ccClassKey,o=t.module,a=t.__$$staticWaKeyList;if(e.__$$isMounted){var c=t.effectMeta,i=c.eid_effectPropsReturnCb_;Da(c.eid_effectReturnCb_,t),Da(i,t),ho(n)}t.getWatchedKeys().forEach(function(e){return E(o,e,n)});var u=t.getConnectWatchedKeys();le(u).map(function(t){u[t].forEach(function(e){return E(t,e,n)})}),a.forEach(function(e){return function(e,t){try{delete g[e][t]}catch(e){}}(e,n)}),Ua(r,n)}var Aa=xt.store;function Ma(e){var t=e.ctx;if(t.__$$renderStatus=x,t.__$$autoWatch){if(t.__$$hasModuleState){var n=t.__$$prevModuleVer,r=t.module,o=Aa.getModuleVer(r)[r];n[r]!==o&&(n[r]=o,Object.assign(e.state,t.mstate)),e.state=go(e,e.state,r,!0),t.state=e.state,t.__$$curWaKeys={},t.__$$compareWaKeys=t.__$$nextCompareWaKeys,t.__$$compareWaKeyCount=t.__$$nextCompareWaKeyCount,t.__$$nextCompareWaKeys={},t.__$$nextCompareWaKeyCount=0}var a=t.connect;t.connectedModules.forEach(function(e){"-"===a[e]&&(t.__$$curConnWaKeys[e]={},t.__$$compareConnWaKeys[e]=t.__$$nextCompareConnWaKeys[e],t.__$$compareConnWaKeyCount[e]=t.__$$nextCompareConnWaKeyCount[e],t.__$$nextCompareConnWaKeys[e]={},t.__$$nextCompareConnWaKeyCount[e]=0)})}}var Ta=function(e){return"CC("+e+")"},Ra=Le,Wa=Ue,ka=ke,ja=xt.runtimeVar,La=Q,Pa=ee,Fa=function(e){return Error("can not defined setup both in register options and class body --verbose:"+e)};function Va(e,t){var n=void 0===e?{}:e,r=n.module,o=void 0===r?H:r,a=n.state,u=void 0===a?{}:a,c=n.watchedKeys,s=void 0===c?"-":c,i=n.storedKeys,d=void 0===i?[]:i,f=n.setup,l=void 0===f?null:f,p=n.persistStoredKeys,y=n.connect,_=void 0===y?{}:y,v=n.tag,m=n.lite,h=n.isPropsProxy,C=void 0!==h&&h,K=n.isSingle,g=void 0!==K&&K,S=n.renderKeyClasses,$=n.__checkStartUp,E=void 0===$||$,w=n.compareProps,b=void 0===w||w,x=n.__calledBy;void 0===t&&(t="");try{var O=oo(o,t,S,A,Ra(s),d,_,E,x),U=O._module,N=O._ccClassKey,D=O._connect;return function(n){if(n.prototype&&n.prototype.$$attach)throw Error("register a cc class is prohibited!");var e=!1===C?n:I.Component,i=e.$$setup,t=function(c){function e(e,t){var n;n=c.call(this,e,t)||this;try{var r=ka(u),o=Object.assign(n.state||{},r);n.$$attach=n.$$attach.bind(Lr(n));var a=Object.assign({},e,{isSingle:g,module:U,tag:v,state:o,type:A,insType:M,watchedKeys:s,ccClassKey:N,connect:D,storedKeys:d,persistStoredKeys:p});if(Jo(Lr(n),a,m),n.ctx.reactSetState=Ar(Lr(n)),n.ctx.reactForceUpdate=Mr(Lr(n)),l&&(n.$$setup||i))throw Fa("ccUniqueKey "+n.ctx.ccUniqueKey);C||(n.$$setup&&(n.$$setup=n.$$setup.bind(Lr(n))),ta(Lr(n),l||n.$$setup||i,!1))}catch(e){gn(e)}return n}jr(e,c);var t=e.prototype;return t.shouldComponentUpdate=function(e,t){var n=this.ctx.childRef;if(n&&n.shouldComponentUpdate)return n.shouldComponentUpdate(e,t);if(c.prototype.shouldComponentUpdate)return c.prototype.shouldComponentUpdate.call(this,e,t);var r=!!b&&Wa(this.props,e);return this.state!==t||r},t.$$attach=function(e){var t=this.ctx;if(((t.childRef=e).ctx=t).reactSetState=e.setState.bind(e),t.reactForceUpdate=e.forceUpdate.bind(e),e.setState=t.setState,e.forceUpdate=t.forceUpdate,t.__$$ccSetState=xr(e,this),t.__$$ccForceUpdate=Or(e),e.state||(e.state={}),Object.assign(e.state,this.state),Ma(e),e.$$setup&&(e.$$setup=e.$$setup.bind(e)),l&&(e.$$setup||i))throw Fa("ccUniqueKey "+t.ccUniqueKey);ta(e,l||e.$$setup||i,!1)},t.componentDidMount=function(){c.prototype.componentDidMount&&c.prototype.componentDidMount.call(this),Sa(this)},t.componentDidUpdate=function(e,t,n){c.prototype.componentDidUpdate&&c.prototype.componentDidUpdate.call(this,e,t,n),$a(this)},t.componentWillUnmount=function(){c.prototype.componentWillUnmount&&c.prototype.componentWillUnmount.call(this),Ia(this)},t.render=function(){return this.ctx.prevProps=this.ctx.props,this.ctx.props=this.props,ja.isDebug&&console.log(Pa("@@@ render "+Ta(N)),La()),!1===C?(Ma(this),c.prototype.render.call(this)):I.createElement(n,{ctx:this.ctx,$$attach:this.$$attach})},e}(e);return t.displayName=N===Y?"CcDispatcher":Ta(N),t}}catch(e){gn(e)}}function za(e){var t=function(e){function t(){return e.apply(this,arguments)||this}return jr(t,e),t.prototype.render=function(){return this.props.children||I.createElement("span",{style:{display:"none"}})},t}(I.Component);if(xt.refs[Y]){if(!xt.isHotReloadMode())throw Error("CcDispatcher can only be initialize one time");ne("hot reload mode, CC_DISPATCHER existed")}var n=e||t;return Va({isSingle:!0,__checkStartUp:!1,__calledBy:"cc"},Y)(n)}var qa=be,Ha=le;function Ba(e,t){if(!qa(e))throw Error(t+" "+we)}function Ga(e){if(0<e.length){var o=xt.plugins;o.length=0,mn.forEach(function(e){return hn[e].length=0});var a={};e.forEach(function(e){if(o.push(e),!e.install)throw Error("a plugin must export install handler!");var t=e.install(Kn),n=Error("plugin.install must return result:{name:string, options?:object}");if(!t)throw n;var r=t.name;if(!r)throw n;if(a[r])throw Error("pluginName["+r+"] duplicate");a[r]=1}),xt.pluginNameMap=a}}var Ya=function(e){var t=document.querySelector("#"+c);if(!t){(t=document.createElement("div")).id=c;var n=t.style;n.position="fixed",n.left=0,n.top=0,n.display="none",n.zIndex=-888666,document.body.appendChild(t)}r.render(I.createElement(e),t)},Xa=!1;function Ja(e,r){void 0===e&&(e=!1),at={},ct={},fe(xt.event_handlers_),fe(xt.ccUKey_handlerKeys_);var o=xt.ccClassKey_ccClassContext_,t=xt.ccUKey_ref_;if(Object.keys(o).forEach(function(e){var t=o[e],n=[];0<r.length&&t.ccKeys.forEach(function(e){r.includes(e)&&n.push(e)}),fe(t.ccKeys,n)}),fe(xt.handlerKey_handler_),fe(t,[Y].concat(r)),e){var n=xt.computed,a=xt.watch,c=n._computedValue,i=a._watchDep;le(xt.store._state).forEach(function(e){e!==B&&(c[e]&&(xt.computed._computedDep[e]={retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0},ln(e,n._computedRaw[e])),i[e]&&(i[e]={retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0},vn(e,a._watchRaw[e])))})}}function Za(){var r=xt.ccUKey_ref_,o=[],a=[];return le(r).forEach(function(e){var t=r[e];if(t&&!0===t.__$$isMounted&&0==t.__$$isUnmounted){var n=t.ctx.insType;n===O?(o.push(e),a.push(e)):n===f&&a.push(e)}}),{ccFragKeys:o,ccNonCusKeys:a}}function Qa(){fe(xt.globalStateKeys);var e=le(xt.moduleName_isConfigured_).concat([H,B,ye,a]);fe(xt.reducer._reducer,e),fe(xt.store._state,e,{},!0),fe(xt.computed._computedDep,e),fe(xt.computed._computedValue,e),fe(xt.watch._watchDep,e),fe(xt.middlewares),fe(xt.waKey_uKeyMap_),Ve={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};var t=Za(),n=t.ccFragKeys;return Ja(!1,t.ccNonCusKeys),n}function ec(e){void 0===e&&(e=!1),xt.info.latestStartupTime=Date.now();var t=[];if(xt.isStartup){if(xt.isHotReloadMode()){if(e)return console.warn("attention: make sure [[clearContextIfHot]] been called before app rendered!"),Xa=!0,t=Qa();if(Xa)return Xa=!1,t;!function(){if(!xt.refs[Y]){var e=za();Ya(e)}}();var n=Za();return Ja(xt.reComputed,n.ccNonCusKeys),n.ccFragKeys}return console.warn("clear failed because of not running under hot reload mode!"),t}return Xa=!0,t}var tc=Ie,nc=ke;function rc(e){var t=e.props,n=tc(t.register),r=n.module,o=n.renderKeyClasses,a=n.tag,c=n.lite,i=n.compareProps,u=void 0===i||i,s=n.setup,d=n.bindCtxToMethod,f=n.watchedKeys,l=void 0===f?"-":f,p=n.connect,y=void 0===p?{}:p,_=n.isSingle,v=n.storedKeys,m=void 0===v?[]:v,h=nc(n.state),C=t.ccClassKey,K=t.ccKey,g=t.ccOption,S=void 0===g?{}:g,$=l,E=C,w=y,b=M;if(!0!==t.__$$regDumb){b=O;var x=oo(r,C,o,A,Le(l),m,y,!0);$=l,E=x._ccClassKey,w=x._connect}Jo(e,{isSingle:_,ccKey:K,connect:w,state:h,module:r,type:A,insType:b,storedKeys:m,watchedKeys:$,tag:a,ccClassKey:E,ccOption:S},c),e.ctx.reactSetState=Ar(e),e.ctx.reactForceUpdate=Mr(e),e.__$$compareProps=u,ta(e,s,d)}var oc=ne,ac=Oe,cc="";function ic(e,t){var n=void 0===e?{}:e,r=n.store,o=void 0===r?{}:r,a=n.reducer,c=void 0===a?{}:a,i=n.init,u=void 0===i?null:i,s=n.initPost,d=void 0===s?{}:s,f=n.computed,l=void 0===f?{}:f,p=n.watch,y=void 0===p?{}:p,_=n.moduleSingleClass,v=void 0===_?{}:_,m=void 0===t?{}:t,h=m.plugins,C=void 0===h?[]:h,K=m.middlewares,g=void 0===K?[]:K,S=m.isStrict,$=void 0!==S&&S,E=m.isDebug,w=void 0!==E&&E,b=m.errorHandler,x=void 0===b?null:b,O=m.isHot,U=m.bindCtxToMethod,N=void 0!==U&&U,D=m.objectValueCompare,I=void 0!==D&&D,A=m.computedCompare,M=void 0===A||A,T=m.watchCompare,R=void 0===T||T,W=m.watchImmediate,k=void 0!==W&&W,j=m.reComputed,L=void 0===j||j;try{throw Error()}catch(e){var P=function(e){function t(e,t){for(var n=0;n<o;n++)if(r[n].includes(e)){a=r[n+t];break}}var n=xt.info,r=e.stack.split("\n"),o=r.length,a="";function c(){return ec(xt.isHot=!0)}t("startup",2),a||t("runConcent",0);var i=Date.now(),u=[],s=!0;if(cc)if(cc!==a){var d="invalid run api call!(it can only be called once, changing 'call run' line location in HMR will cause this error also, \n    try refresh browser to reload your app to avoid this tip)";if(i-n.latestStartupTime<1e3)throw Error(d);Re()?(u=c(),cc=a):(re(d),s=!1)}else u=c();else cc=a,n.firstStartupTime=i,n.latestStartupTime=i;return{canStartup:s,ccFragKeys:u}}(e),F=P.ccFragKeys;if(!P.canStartup)return;try{console.log("%c window.name:"+window.name,"color:green;border:1px solid green"),oc("cc version "+xt.info.version),void 0!==O&&(xt.isHot=O),xt.reComputed=L,xt.errorHandler=x;var V=xt.runtimeVar;if(V.isStrict=$,V.isDebug=w,V.objectValueCompare=I,V.computedCompare=M,V.watchCompare=R,V.watchImmediate=k,V.bindCtxToMethod=N,!xt.refs[Y]){var z=za();Ya(z)}xt.permanentDispatcher=xt.refs[Y],function(e){if(!qa(e))throw Error("StartupOption.moduleSingleClass "+we);ue(xt.moduleSingleClass,e)}(v),function(e){Ba(e,"state"),delete e[G],delete e[B],void 0===e[ye]&&(e[ye]={}),void 0===e[H]&&(e[H]={});for(var t=Ha(e),n=t.length,r=0;r<n;r++){var o=t[r];zt(o,e[o])}}(o),function(t){Ba(t,"reducer"),void 0===t[H]&&(t[H]={}),void 0===t[ye]&&(t[ye]={}),Ha(t).forEach(function(e){return Jt(e,t[e])})}(c),function(t){Ba(t,"computed"),Ha(t).forEach(function(e){return ln(e,t[e])})}(l),function(t){Ba(t,"watch"),Object.keys(t).forEach(function(e){return vn(e,t[e])})}(y),function(n,r){if(n){if(!qa(n))throw Error("init "+we);Ha(n).forEach(function(t){kt(t,!1);var e=n[t];e&&Promise.resolve().then(e).then(function(e){Ir(t,r[t])(e)})}),xt.init._init=n}}(u,d),function(e){if(0<e.length){var t=xt.middlewares;t.length=0,e.forEach(function(e){return t.push(e)})}}(g);var q=function(e){ac("CC_CONTEXT",xt,e),ac("ccc",xt,e),ac("cccc",xt.computed._computedValue,e),ac("sss",xt.store._state,e)};window.mcc?setTimeout(function(){q(window.mcc[Me()])},1200):q(),xt.isStartup=!0,Ga(C),F.forEach(function(e){var t=xt.ccUKey_ref_[e];Ia(t),rc(t),Sa(t)})}catch(e){if(!x)throw e;x(e)}}}function uc(e){throw Error("[[run]]: param error, "+e+" "+we)}var sc=be,dc=le,fc=z,lc=ke;function pc(e,t){var n=Ie(e);return delete n.__checkStartUp,delete n.__calledBy,Va(n,t)}var yc=Ue,_c=I.createElement("span",{style:{display:"none"}}),vc=function(r){function e(e,t){var n;return rc(Lr(n=r.call(this,e,t)||this)),n}jr(e,r);var t=e.prototype;return t.componentDidMount=function(){Sa(this)},t.shouldComponentUpdate=function(e,t){var n=!!this.__$$compareProps&&yc(Eo(e),Eo(this.props));return this.state!==t||n},t.componentDidUpdate=function(){$a(this)},t.componentWillUnmount=function(){r.prototype.componentWillUnmount&&r.prototype.componentWillUnmount.call(this),Ia(this)},t.render=function(){var e=this.props;this.ctx.prevProps=this.ctx.props,this.ctx.props=Eo(e);var t=e.render,n=t||e.children;if("function"==typeof n){Ma(this);var r=e.register,o=void 0===r?{}:r,a=this.ctx;return!0!==e.__$$regDumb&&o.mapProps?(a.mapped=o.mapProps(a)||{},n(a.mapped)||_c):n(a)||_c}if(I.isValidElement(n))throw Error("CcFragment's children can not b a react dom ");return n},e}(I.Component);function mc(e,t){var n=Ie(e),r=n.renderKeyClasses,o=n.module,a=n.watchedKeys,c=void 0===a?"-":a,i=n.storedKeys,u=n.render,s=n.connect,d=void 0===s?{}:s,f=Le(c),l=oo(o,t,r,O,f,i,d,!0),p=l._ccClassKey,y=l._connect;function _(t){return function(e){return n.props=e,function(t,e){var n=e.mapProps,r=e.props,o=void 0===r?{}:r,a={__$$regDumb:!0,props:o,ccOption:o.ccOption,ccClassKey:e.ccClassKey,render:function(e){return n?(e.mapped=n(e),I.createElement(t,e.mapped)):I.createElement(t,e)},ccKey:o.ccKey,register:e};return I.createElement(vc,a)}(t,n)}}return n.module=l._module,n.watchedKeys=c,n.ccClassKey=p,n.connect=y,u?_(u):function(e){return _(e)}}var hc=xt.ccUKey_ref_,Cc=1;function Kc(e,t,n){this.setState=t,this.forceUpdate=t,this.state=e,this.isFirstRendered=!0,this.props=n}function gc(e,t,n,r,o,a,c,i,u,s,d){var f=r||ke(o),l=a.bindCtxToMethod,p=a.watchedKeys,y=void 0===p?"-":p,_=a.storedKeys,v=void 0===_?[]:_,m=a.connect,h=void 0===m?{}:m,C=a.setup,K=a.lite;Cc+=1;var g=oo(a.module,d,a.renderKeyClasses,_e,Le(y),v,h,!0),S=g._module,$=g._ccClassKey,E=g._connect,w=e||new Kc(c,i,u),b=Object.assign({},a,{module:S,watchedKeys:y,state:f,type:_e,insType:t,ccClassKey:$,connect:E,ccOption:u.ccOption});w.props=u,Jo(w,b,K),w.ctx.reactSetState=Ar(w),w.ctx.reactForceUpdate=Mr(w);var x=w.ctx;return x.props=u,x.extra=s,ta(w,C,l),n.prevCcUKey=n.ccUKey,n.ccUKey=w.ctx.ccUniqueKey,x.useRef=function(e){var t=I.useRef(null);return x.refs[e]=t},w}function Sc(e){return e?Array.isArray(e)?e.join(","):"object"==typeof e?JSON.stringify(e):e:""}var $c="react version is LTE 16.8",Ec=function(e,t){return e.module!==t.module||Sc(e.connect)!==Sc(t.connect)};function wc(e,t,n){void 0===e&&(e={});var r=I.useRef({prevCcUKey:null,ccUKey:null,regOpt:e}).current,o=Ie(e),a=o.state,c=void 0===a?{}:a,i=o.props,u=void 0===i?{}:i,s=o.mapProps,d=o.layoutEffect,f=void 0!==d&&d,l=o.extra,p=void 0===l?{}:l,y=I.useState;if(!y)throw Error($c);function _(e){return gc(e,n,r,C,c,o,g,S,u,p,t)}var v,m=Cc,h=y(m)[0]===m,C=h?ke(c):0,K=y(C),g=K[0],S=K[1];if(h||Ec(r.regOpt,e))r.regOpt=e,v=_();else if(v=hc[r.ccUKey]){var $=v.ctx;$.prevProps=$.props,v.props=$.props=u,$.extra=p}else v=_();var E=v.ctx,w=f?I.useLayoutEffect:I.useEffect;if(w(function(){return function(){var e=hc[r.prevCcUKey||r.ccUKey];e&&(r.prevCcUKey=null,Ia(e))}},[v]),w(function(){!function(e,t){e.__boundSetState=t,e.__boundForceUpdate=t}(E,S),v.isFirstRendered?(v.isFirstRendered=!1,Sa(v)):$a(v)}),Ma(v),s){var b=s(E);if(!be(b))throw Error("mapProps ret "+we);E.mapped=b}return E}function bc(e,t){return wc(e,t,M)}function xc(){throw Error("api doc: cc.setState(module:string, state:object, renderKey:string, delayMs?:number, skipMiddleware?:boolean, throwError?:boolean)")}function Oc(e){return xt.store.getState(e)}var Uc=xt.store.getGlobalState,Nc=xt.computed._computedValue;var Dc=xt.ccUKey_ref_,Ic=xt.ccClassKey_ccClassContext_;function Ac(){var n=[],r=xt.ccUKey_ref_;return le(r).forEach(function(e){var t=r[e];t&&!t.__$$isUnmounted&&n.push(t)}),n}function Mc(){return"Ob view"}function Tc(e,t,n){var r=void 0===n?{}:n,o=r.state,a=r.reducer,c=r.computed,i=r.watch,u=r.init;if(!xt.isStartup)throw Error("cc is not startup yet");Wt(e),kt(t,!1);var s=xt.moduleName_stateFn_[t];if(!s)throw Error("target module["+t+"] state must be a function when use cloneModule");var d=s();Object.assign(d,ke(o));var f=kr(xt.reducer._reducer[t]||{},e);a&&Object.assign(f,kr(a,e));var l=xt.computed._computedRaw[t]||{};c&&Object.assign(l,c);var p=xt.watch._watchRaw[t]||{};i&&Object.assign(p,i);var y=xt.init._init[t];u&&(y=u);var _={state:d,reducer:f,computed:l,watch:p};y&&(_.init=y),Wr(e,_)}function Rc(t,e){function r(e,t){var n=t.state,r=t.reducer,o=void 0===r?{}:r,a=t.watch,c=t.computed,i=t.init,u=t.initPost,s=t.isClassSingle;if(d.store[e])throw Error("run api error: module"+e+" duplicate");d.store[e]=lc(n),"function"==typeof n&&(xt.moduleName_stateFn_[e]=n),d.reducer[e]=o,a&&(d.watch[e]=a),c&&(d.computed[e]=c),i&&(d.init[e]=i),u&&(d.initPost[e]=u),d.moduleSingleClass[e]=!0===s}void 0===t&&(t={}),void 0===e&&(e={}),sc(t)||uc("store"),sc(e)||uc("options");var d={store:{},reducer:{},watch:{},computed:{},init:{},initPost:{},moduleSingleClass:{}};dc(t).forEach(function(e){return r(e,t[e])}),It.forEach(function(e){var t=e.module,n=e.config;ne("configure pending module["+t+"]"),r(t,n)}),It.length=0,fc(d.init)&&(d.init=null),ic(d,e)}function Wc(e,t){return pc({connect:e},t)}function kc(e,t){return mc({connect:e},t)}function jc(e,o){var a=Ie(e);function t(n){var e=a.memo,t=void 0===e||e;function r(){return function(e){a.props=e;var t=bc(a,o);return I.createElement(n,a.mapProps?t.mapped:t)}}return delete a.memo,t&&I.memo?I.memo(r()):r()}"function"==typeof a.state&&(a.state=a.state());var n=a.render;return n?t(n):function(e){return t(e)}}function Lc(e,t,n,r,o){void 0===o&&(o=!1);try{qt().ctx.setGlobalState(e,t,n,r)}catch(e){if(o)throw e;xe(e.message)}}function Pc(e,t,n,r,o,a){void 0===r&&(r=-1),void 0===a&&(a=!1),void 0===e&&void 0===t&&xc(),"string"!=typeof e&&xc(),function(e,t,n,r,o){void 0===r&&(r=-1),dr(t,{ccKey:"[[top api:setState]]",module:e,renderKey:n,delay:r,skipMiddleware:o})}(e,t,n,r,o)}function Fc(e,t,n,r){qt().ctx.set(e,t,n,r)}function Vc(e,t){if(!e.includes("/"))throw Error("keyPath must start with module");var n=e.split("/"),r=Oc(n[0]);return xo(e,t,!1,r,!1).state}function zc(e){return ei[e].connectedState||{}}function qc(e){return e?Nc[e]:Nc}function Hc(e){if(void 0===e)throw Error("api doc: cc.emit(event:string|{name:string, identity?:string, ctx?:boolean}, ...args)");try{for(var t,n=qt(),r=arguments.length,o=Array(1<r?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];(t=n.ctx).emit.apply(t,[e].concat(o))}catch(e){xe(e)}}function Bc(e,t){try{qt().ctx.off(e,t)}catch(e){if(t.throwError)throw e;xe(e.message)}}function Gc(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(function(e){var n=[],t=Ic[e];return t&&t.ccKeys.forEach(function(e){var t=Dc[e];t&&n.push(t)}),n})(e).forEach(function(e){var t;e.__$$isUnmounted||e.ctx.execute&&(t=e.ctx).execute.apply(t,n)})}function Yc(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];Ac().forEach(function(e){var t;e.ctx.execute&&(t=e.ctx).execute.apply(t,n)})}function Xc(e,t){return Fe(e,t)}function Jc(e,t){var n=Fe(e,t);return n.lazy=!0,n}function Zc(e){return{fn:function(){return e},depKeys:[]}}function Qc(e,t){return Fe(e,t)}var ei=xt.ccClassKey_ccClassContext_,ti=xt.store.appendState,ni=xt.reducer._caller,ri=I.memo(function(e){var t=e.module,n=e.connect,r=e.classKey,o=e.render,a=e.children;if(t&&n)throw Error("module, connect can not been supplied both");if(!t&&!n)throw Error("module or connect should been supplied");var c=o||a||Mc,i=t?{module:t}:{connect:n};i.lite=1;var u,s,d=function(e,t){return wc(e,t,f)}(i,r);return s=t?(u=d.moduleState,d.moduleComputed):(u=d.connectedState,d.connectedComputed),c([u,s,{mr:d.mr,cr:d.cr,r:d.r}])}),oi=pc,ai=mc,ci=Wr,ii=Oc,ui=Uc,si=Xt,di=xt,fi=za,li=Ac,pi=ni,yi=ec,_i=vc,vi=ri,mi=u,hi=ti,Ci=bc,Ki={cloneModule:Tc,emit:Hc,off:Bc,connect:Wc,connectDumb:kc,register:oi,registerDumb:ai,registerHookComp:jc,configure:ci,dispatch:si,run:Rc,setGlobalState:Lc,setState:Pc,set:Fc,setValue:Vc,getGlobalState:ui,getState:ii,getComputed:qc,getConnectedState:zc,ccContext:di,createDispatcher:fi,execute:Gc,executeAll:Yc,getRefs:li,reducer:pi,clearContextIfHot:yi,CcFragment:_i,Ob:vi,cst:mi,appendState:hi,useConcent:Ci,bindCcToMcc:gi,defComputed:Xc,defLazyComputed:Jc,defComputedVal:Zc,defWatch:Qc};function gi(e){if(!$i)throw Error("current env is not multi concent ins mode");if($i[e])throw Error("ccNamespace["+e+"] already existed in window.mcc");!function(e){Ae=e}(e),Oe(e,Ki,$i)}function Si(){var e=Ae?window.mcc[Ae]:window.cc;if(e&&e.ccContext&&e.ccContext.info){var t=e.ccContext.info.version,n=di.info.version;if(t!==n)throw Error("a existed version concent "+t+" is different with current about to import concent "+n+", \n        it may caused by some of your concent-eco-module with older version concent, please reinstall them (concent-*** module)")}}var $i=window.mcc;$i?setTimeout(function(){if(!Me())throw Error("detect window.mcc, but user forget call bindCcToMcc in bundle entry");Si()},1e3):(Si(),Oe("cc",Ki)),e.cloneModule=Tc,e.run=Rc,e.connect=Wc,e.connectDumb=kc,e.register=oi,e.registerDumb=ai,e.registerHookComp=jc,e.configure=ci,e.setGlobalState=Lc,e.setState=Pc,e.set=Fc,e.setValue=Vc,e.getState=ii,e.getGlobalState=ui,e.getConnectedState=zc,e.getComputed=qc,e.emit=Hc,e.off=Bc,e.dispatch=si,e.ccContext=di,e.createDispatcher=fi,e.execute=Gc,e.executeAll=Yc,e.getRefs=li,e.reducer=pi,e.clearContextIfHot=yi,e.CcFragment=_i,e.Ob=vi,e.cst=mi,e.appendState=hi,e.useConcent=Ci,e.defComputed=Xc,e.defLazyComputed=Jc,e.defComputedVal=Zc,e.defWatch=Qc,e.bindCcToMcc=gi,e.default=Ki,Object.defineProperty(e,"__esModule",{value:!0})});
